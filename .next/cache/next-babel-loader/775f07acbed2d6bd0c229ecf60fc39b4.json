{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/intermezzto/Documentos/codeProyects/mapbox-project/components/dynamicLayer.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport { useEffect, useState } from 'react';\nimport mapboxgl from 'mapbox-gl/dist/mapbox-gl.js';\n\nvar dynamicLayer = function dynamicLayer() {\n  _s();\n\n  var _useState = useState(false),\n      pageIsMounted = _useState[0],\n      setPageIsMounted = _useState[1];\n\n  useEffect(function () {\n    setPageIsMounted(true);\n    var map = new mapboxgl.Map({\n      container: 'dynamicLayer-map',\n      style: 'mapbox://styles/mapbox/streets-v11',\n      zoom: 15,\n      center: [-71.97722138410576, -13.517379300798098]\n    }); // Wait until the map has finished loading.\n    // Add a custom vector tileset source. This tileset contains\n\n    map.on('load', function () {\n      // point features representing museums. Each feature contains\n      // three properties. For example:\n      // {\n      //     alt_name: \"Museo Arqueologico\",\n      //     name: \"Museo Inka\",\n      //     tourism: \"museum\"\n      // }\n      map.addSource('museums', {\n        type: 'vector',\n        url: 'mapbox://mapbox.2opop9hr'\n      });\n      map.addLayer({\n        'id': 'museums',\n        'type': 'circle',\n        'source': 'museums',\n        'layout': {\n          // Make the layer visible by default.\n          'visibility': 'visible'\n        },\n        'paint': {\n          'circle-radius': 8,\n          'circle-color': 'rgba(55,148,179,1)'\n        },\n        'source-layer': 'museum-cusco'\n      }); // Add the Mapbox Terrain v2 vector tileset. Read more about\n      // the structure of data in this tileset in the documentation:\n      // https://docs.mapbox.com/vector-tiles/reference/mapbox-terrain-v2/\n\n      map.addSource('contours', {\n        type: 'vector',\n        url: 'mapbox://mapbox.mapbox-terrain-v2'\n      });\n      map.addLayer({\n        'id': 'contours',\n        'type': 'line',\n        'source': 'contours',\n        'source-layer': 'contour',\n        'layout': {\n          // Make the layer visible by default.\n          'visibility': 'visible',\n          'line-join': 'round',\n          'line-cap': 'round'\n        },\n        'paint': {\n          'line-color': '#877b59',\n          'line-width': 1\n        }\n      });\n    }); // After the last frame rendered before the map enters an \"idle\" state.\n\n    map.on('idle', function () {\n      // If these two layers have been added to the style,\n      // add the toggle buttons.\n      if (map.getLayer('contours') && map.getLayer('museums')) {\n        // Enumerate ids of the layers.\n        var toggleableLayerIds = ['contours', 'museums']; // Set up the corresponding toggle button for each layer.\n\n        for (var i = 0; i < toggleableLayerIds.length; i++) {\n          var id = toggleableLayerIds[i];\n\n          if (!document.getElementById(id)) {\n            // Create a link.\n            var link = document.createElement('a');\n            link.id = id;\n            link.href = '#';\n            link.textContent = id;\n            link.className = 'active'; // Show or hide layer when the toggle is clicked.\n\n            link.onclick = function (e) {\n              var clickedLayer = this.textContent;\n              e.preventDefault();\n              e.stopPropagation();\n              var visibility = map.getLayoutProperty(clickedLayer, 'visibility'); // Toggle layer visibility by changing the layout object's visibility property.\n\n              if (visibility === 'visible') {\n                map.setLayoutProperty(clickedLayer, 'visibility', 'none');\n                this.className = '';\n              } else {\n                this.className = 'active';\n                map.setLayoutProperty(clickedLayer, 'visibility', 'visible');\n              }\n            };\n\n            var layers = document.getElementById('dynamicLayer-menu');\n            layers.appendChild(link);\n          }\n        }\n      }\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      id: \"dynamicLayer-menu\",\n      className: \"jsx-2006012130\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"80%\",\n        height: \"70vh\"\n      },\n      id: \"dynamicLayer-map\",\n      className: \"jsx-2006012130\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"2006012130\",\n      children: \"#dynamicLayer-menu.jsx-2006012130{background:#fff;position:absolute;z-index:1;top:10px;right:10px;border-radius:3px;width:120px;border:1px solid rgba(0,0,0,0.4);font-family:'Open Sans',sans-serif;}#dynamicLayer-menu.jsx-2006012130 a.jsx-2006012130{font-size:13px;color:#404040;display:block;margin:0;padding:0;padding:10px;-webkit-text-decoration:none;text-decoration:none;border-bottom:1px solid rgba(0,0,0,0.25);text-align:center;}#dynamicLayer-menu.jsx-2006012130 a.jsx-2006012130:last-child{border:none;}#dynamicLayer-menu.jsx-2006012130 a.jsx-2006012130:hover{background-color:#f8f8f8;color:#404040;}#dynamicLayer-menu.jsx-2006012130 a.active.jsx-2006012130{background-color:#3887be;color:#ffffff;}#dynamicLayer-menu.jsx-2006012130 a.active.jsx-2006012130:hover{background:#3074a4;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ludGVybWV6enRvL0RvY3VtZW50b3MvY29kZVByb3llY3RzL21hcGJveC1wcm9qZWN0L2NvbXBvbmVudHMvZHluYW1pY0xheWVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWdJa0IsQUFHMkIsQUFZRCxBQVlILEFBSWEsQUFLQSxBQUtOLFlBYm5CLEdBWmMsQ0FaSSxHQXNDbEIsTUFWYyxBQUtBLElBcEJBLEtBWkosS0E0QlYsQUFLQSxJQXBCUyxDQVpBLFFBYUMsQ0FaQyxTQWFFLEVBWkssV0FhRyxPQVpULFlBQ3dCLCtCQVlRLEVBWFIsbUNBQ3BDLElBV2tCLGtCQUNsQiIsImZpbGUiOiIvaG9tZS9pbnRlcm1lenp0by9Eb2N1bWVudG9zL2NvZGVQcm95ZWN0cy9tYXBib3gtcHJvamVjdC9jb21wb25lbnRzL2R5bmFtaWNMYXllci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBtYXBib3hnbCBmcm9tICdtYXBib3gtZ2wvZGlzdC9tYXBib3gtZ2wuanMnXG5cbmNvbnN0IGR5bmFtaWNMYXllciA9ICgpID0+IHtcbiAgY29uc3QgW3BhZ2VJc01vdW50ZWQsIHNldFBhZ2VJc01vdW50ZWRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0UGFnZUlzTW91bnRlZCh0cnVlKVxuXG4gICAgY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7XG4gICAgICBjb250YWluZXI6ICdkeW5hbWljTGF5ZXItbWFwJyxcbiAgICAgIHN0eWxlOiAnbWFwYm94Oi8vc3R5bGVzL21hcGJveC9zdHJlZXRzLXYxMScsXG4gICAgICB6b29tOiAxNSxcbiAgICAgIGNlbnRlcjogWy03MS45NzcyMjEzODQxMDU3NiwgLTEzLjUxNzM3OTMwMDc5ODA5OF1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBXYWl0IHVudGlsIHRoZSBtYXAgaGFzIGZpbmlzaGVkIGxvYWRpbmcuXG4gICAgICAvLyBBZGQgYSBjdXN0b20gdmVjdG9yIHRpbGVzZXQgc291cmNlLiBUaGlzIHRpbGVzZXQgY29udGFpbnNcbiAgICBtYXAub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBwb2ludCBmZWF0dXJlcyByZXByZXNlbnRpbmcgbXVzZXVtcy4gRWFjaCBmZWF0dXJlIGNvbnRhaW5zXG4gICAgICAvLyB0aHJlZSBwcm9wZXJ0aWVzLiBGb3IgZXhhbXBsZTpcbiAgICAgIC8vIHtcbiAgICAgIC8vICAgICBhbHRfbmFtZTogXCJNdXNlbyBBcnF1ZW9sb2dpY29cIixcbiAgICAgIC8vICAgICBuYW1lOiBcIk11c2VvIElua2FcIixcbiAgICAgIC8vICAgICB0b3VyaXNtOiBcIm11c2V1bVwiXG4gICAgICAvLyB9XG4gICAgICBtYXAuYWRkU291cmNlKCdtdXNldW1zJywge1xuICAgICAgICB0eXBlOiAndmVjdG9yJyxcbiAgICAgICAgdXJsOiAnbWFwYm94Oi8vbWFwYm94LjJvcG9wOWhyJ1xuICAgICAgfSk7XG4gICAgICBtYXAuYWRkTGF5ZXIoe1xuICAgICAgICAnaWQnOiAnbXVzZXVtcycsXG4gICAgICAgICd0eXBlJzogJ2NpcmNsZScsXG4gICAgICAgICdzb3VyY2UnOiAnbXVzZXVtcycsXG4gICAgICAgICdsYXlvdXQnOiB7XG4gICAgICAgICAgLy8gTWFrZSB0aGUgbGF5ZXIgdmlzaWJsZSBieSBkZWZhdWx0LlxuICAgICAgICAgICd2aXNpYmlsaXR5JzogJ3Zpc2libGUnXG4gICAgICAgIH0sXG4gICAgICAgICdwYWludCc6IHtcbiAgICAgICAgICAnY2lyY2xlLXJhZGl1cyc6IDgsXG4gICAgICAgICAgJ2NpcmNsZS1jb2xvcic6ICdyZ2JhKDU1LDE0OCwxNzksMSknXG4gICAgICAgIH0sXG4gICAgICAgICdzb3VyY2UtbGF5ZXInOiAnbXVzZXVtLWN1c2NvJ1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEFkZCB0aGUgTWFwYm94IFRlcnJhaW4gdjIgdmVjdG9yIHRpbGVzZXQuIFJlYWQgbW9yZSBhYm91dFxuICAgICAgLy8gdGhlIHN0cnVjdHVyZSBvZiBkYXRhIGluIHRoaXMgdGlsZXNldCBpbiB0aGUgZG9jdW1lbnRhdGlvbjpcbiAgICAgIC8vIGh0dHBzOi8vZG9jcy5tYXBib3guY29tL3ZlY3Rvci10aWxlcy9yZWZlcmVuY2UvbWFwYm94LXRlcnJhaW4tdjIvXG4gICAgICBtYXAuYWRkU291cmNlKCdjb250b3VycycsIHtcbiAgICAgICAgdHlwZTogJ3ZlY3RvcicsXG4gICAgICAgIHVybDogJ21hcGJveDovL21hcGJveC5tYXBib3gtdGVycmFpbi12MidcbiAgICAgIH0pO1xuICAgICAgbWFwLmFkZExheWVyKHtcbiAgICAgICAgJ2lkJzogJ2NvbnRvdXJzJyxcbiAgICAgICAgJ3R5cGUnOiAnbGluZScsXG4gICAgICAgICdzb3VyY2UnOiAnY29udG91cnMnLFxuICAgICAgICAnc291cmNlLWxheWVyJzogJ2NvbnRvdXInLFxuICAgICAgICAnbGF5b3V0Jzoge1xuICAgICAgICAgIC8vIE1ha2UgdGhlIGxheWVyIHZpc2libGUgYnkgZGVmYXVsdC5cbiAgICAgICAgICAndmlzaWJpbGl0eSc6ICd2aXNpYmxlJyxcbiAgICAgICAgICAnbGluZS1qb2luJzogJ3JvdW5kJyxcbiAgICAgICAgICAnbGluZS1jYXAnOiAncm91bmQnXG4gICAgICAgIH0sXG4gICAgICAgICdwYWludCc6IHtcbiAgICAgICAgICAnbGluZS1jb2xvcic6ICcjODc3YjU5JyxcbiAgICAgICAgICAnbGluZS13aWR0aCc6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAgIC8vIEFmdGVyIHRoZSBsYXN0IGZyYW1lIHJlbmRlcmVkIGJlZm9yZSB0aGUgbWFwIGVudGVycyBhbiBcImlkbGVcIiBzdGF0ZS5cbiAgICBtYXAub24oJ2lkbGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBJZiB0aGVzZSB0d28gbGF5ZXJzIGhhdmUgYmVlbiBhZGRlZCB0byB0aGUgc3R5bGUsXG4gICAgICAvLyBhZGQgdGhlIHRvZ2dsZSBidXR0b25zLlxuICAgICAgaWYgKG1hcC5nZXRMYXllcignY29udG91cnMnKSAmJiBtYXAuZ2V0TGF5ZXIoJ211c2V1bXMnKSkge1xuICAgICAgICAvLyBFbnVtZXJhdGUgaWRzIG9mIHRoZSBsYXllcnMuXG4gICAgICAgIHZhciB0b2dnbGVhYmxlTGF5ZXJJZHMgPSBbJ2NvbnRvdXJzJywgJ211c2V1bXMnXTtcbiAgICAgICAgLy8gU2V0IHVwIHRoZSBjb3JyZXNwb25kaW5nIHRvZ2dsZSBidXR0b24gZm9yIGVhY2ggbGF5ZXIuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9nZ2xlYWJsZUxheWVySWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGlkID0gdG9nZ2xlYWJsZUxheWVySWRzW2ldO1xuICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBsaW5rLlxuICAgICAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICBsaW5rLmlkID0gaWQ7XG4gICAgICAgICAgICBsaW5rLmhyZWYgPSAnIyc7XG4gICAgICAgICAgICBsaW5rLnRleHRDb250ZW50ID0gaWQ7XG4gICAgICAgICAgICBsaW5rLmNsYXNzTmFtZSA9ICdhY3RpdmUnO1xuICAgICAgICAgICAgLy8gU2hvdyBvciBoaWRlIGxheWVyIHdoZW4gdGhlIHRvZ2dsZSBpcyBjbGlja2VkLlxuICAgICAgICAgICAgbGluay5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgdmFyIGNsaWNrZWRMYXllciA9IHRoaXMudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgdmFyIHZpc2liaWxpdHkgPSBtYXAuZ2V0TGF5b3V0UHJvcGVydHkoXG4gICAgICAgICAgICAgICAgY2xpY2tlZExheWVyLFxuICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5J1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBUb2dnbGUgbGF5ZXIgdmlzaWJpbGl0eSBieSBjaGFuZ2luZyB0aGUgbGF5b3V0IG9iamVjdCdzIHZpc2liaWxpdHkgcHJvcGVydHkuXG4gICAgICAgICAgICAgIGlmICh2aXNpYmlsaXR5ID09PSAndmlzaWJsZScpIHtcbiAgICAgICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoXG4gICAgICAgICAgICAgICAgY2xpY2tlZExheWVyLFxuICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5JyxcbiAgICAgICAgICAgICAgICAnbm9uZSdcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID0gJyc7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPSAnYWN0aXZlJztcbiAgICAgICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoXG4gICAgICAgICAgICAgICAgY2xpY2tlZExheWVyLFxuICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5JyxcbiAgICAgICAgICAgICAgICAndmlzaWJsZSdcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGxheWVycyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkeW5hbWljTGF5ZXItbWVudScpO1xuICAgICAgICAgICAgbGF5ZXJzLmFwcGVuZENoaWxkKGxpbmspO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgfSk7XG5cbiAgICBcbiAgfSlcblxuICByZXR1cm4oXG4gICAgPD5cbiAgICAgIDxuYXYgaWQ9XCJkeW5hbWljTGF5ZXItbWVudVwiPjwvbmF2PlxuICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDcwdmhgIH19IGlkPVwiZHluYW1pY0xheWVyLW1hcFwiPjwvZGl2PlxuICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAjZHluYW1pY0xheWVyLW1lbnUge1xuICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIHotaW5kZXg6IDE7XG4gICAgICAgICAgdG9wOiAxMHB4O1xuICAgICAgICAgIHJpZ2h0OiAxMHB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICAgICAgICB3aWR0aDogMTIwcHg7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjQpO1xuICAgICAgICAgIGZvbnQtZmFtaWx5OiAnT3BlbiBTYW5zJywgc2Fucy1zZXJpZjtcbiAgICAgICAgICB9XG4gICAgICAgICAgIFxuICAgICAgICAgICNkeW5hbWljTGF5ZXItbWVudSBhIHtcbiAgICAgICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICAgICAgY29sb3I6ICM0MDQwNDA7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICAgXG4gICAgICAgICAgI2R5bmFtaWNMYXllci1tZW51IGE6bGFzdC1jaGlsZCB7XG4gICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgIH1cbiAgICAgICAgICAgXG4gICAgICAgICAgI2R5bmFtaWNMYXllci1tZW51IGE6aG92ZXIge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY4Zjg7XG4gICAgICAgICAgY29sb3I6ICM0MDQwNDA7XG4gICAgICAgICAgfVxuICAgICAgICAgICBcbiAgICAgICAgICAjZHluYW1pY0xheWVyLW1lbnUgYS5hY3RpdmUge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzODg3YmU7XG4gICAgICAgICAgY29sb3I6ICNmZmZmZmY7XG4gICAgICAgICAgfVxuICAgICAgICAgICBcbiAgICAgICAgICAjZHluYW1pY0xheWVyLW1lbnUgYS5hY3RpdmU6aG92ZXIge1xuICAgICAgICAgIGJhY2tncm91bmQ6ICMzMDc0YTQ7XG4gICAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IGR5bmFtaWNMYXllclxuIl19 */\\n/*@ sourceURL=/home/intermezzto/Documentos/codeProyects/mapbox-project/components/dynamicLayer.js */\"\n    }, void 0, false, void 0, _this)]\n  }, void 0, true);\n};\n\n_s(dynamicLayer, \"ZxYVMPinGoeBJwpDQu68kIN3X+I=\");\n\nexport default dynamicLayer;","map":{"version":3,"sources":["/home/intermezzto/Documentos/codeProyects/mapbox-project/components/dynamicLayer.js"],"names":["useEffect","useState","mapboxgl","dynamicLayer","pageIsMounted","setPageIsMounted","map","Map","container","style","zoom","center","on","addSource","type","url","addLayer","getLayer","toggleableLayerIds","i","length","id","document","getElementById","link","createElement","href","textContent","className","onclick","e","clickedLayer","preventDefault","stopPropagation","visibility","getLayoutProperty","setLayoutProperty","layers","appendChild","width","height"],"mappings":";;;;;;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,QAAP,MAAqB,6BAArB;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAAA;;AAAA,kBACiBF,QAAQ,CAAC,KAAD,CADzB;AAAA,MAClBG,aADkB;AAAA,MACHC,gBADG;;AAEzBL,EAAAA,SAAS,CAAC,YAAM;AACdK,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AAEA,QAAMC,GAAG,GAAG,IAAIJ,QAAQ,CAACK,GAAb,CAAiB;AAC3BC,MAAAA,SAAS,EAAE,kBADgB;AAE3BC,MAAAA,KAAK,EAAE,oCAFoB;AAG3BC,MAAAA,IAAI,EAAE,EAHqB;AAI3BC,MAAAA,MAAM,EAAE,CAAC,CAAC,iBAAF,EAAqB,CAAC,kBAAtB;AAJmB,KAAjB,CAAZ,CAHc,CAUZ;AACA;;AACFL,IAAAA,GAAG,CAACM,EAAJ,CAAO,MAAP,EAAe,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACAN,MAAAA,GAAG,CAACO,SAAJ,CAAc,SAAd,EAAyB;AACvBC,QAAAA,IAAI,EAAE,QADiB;AAEvBC,QAAAA,GAAG,EAAE;AAFkB,OAAzB;AAIAT,MAAAA,GAAG,CAACU,QAAJ,CAAa;AACX,cAAM,SADK;AAEX,gBAAQ,QAFG;AAGX,kBAAU,SAHC;AAIX,kBAAU;AACR;AACA,wBAAc;AAFN,SAJC;AAQX,iBAAS;AACP,2BAAiB,CADV;AAEP,0BAAgB;AAFT,SARE;AAYX,wBAAgB;AAZL,OAAb,EAZyB,CA2BzB;AACA;AACA;;AACAV,MAAAA,GAAG,CAACO,SAAJ,CAAc,UAAd,EAA0B;AACxBC,QAAAA,IAAI,EAAE,QADkB;AAExBC,QAAAA,GAAG,EAAE;AAFmB,OAA1B;AAIAT,MAAAA,GAAG,CAACU,QAAJ,CAAa;AACX,cAAM,UADK;AAEX,gBAAQ,MAFG;AAGX,kBAAU,UAHC;AAIX,wBAAgB,SAJL;AAKX,kBAAU;AACR;AACA,wBAAc,SAFN;AAGR,uBAAa,OAHL;AAIR,sBAAY;AAJJ,SALC;AAWX,iBAAS;AACP,wBAAc,SADP;AAEP,wBAAc;AAFP;AAXE,OAAb;AAgBD,KAlDD,EAZc,CAgEZ;;AACFV,IAAAA,GAAG,CAACM,EAAJ,CAAO,MAAP,EAAe,YAAY;AACzB;AACA;AACA,UAAIN,GAAG,CAACW,QAAJ,CAAa,UAAb,KAA4BX,GAAG,CAACW,QAAJ,CAAa,SAAb,CAAhC,EAAyD;AACvD;AACA,YAAIC,kBAAkB,GAAG,CAAC,UAAD,EAAa,SAAb,CAAzB,CAFuD,CAGvD;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,kBAAkB,CAACE,MAAvC,EAA+CD,CAAC,EAAhD,EAAoD;AAClD,cAAIE,EAAE,GAAGH,kBAAkB,CAACC,CAAD,CAA3B;;AACA,cAAI,CAACG,QAAQ,CAACC,cAAT,CAAwBF,EAAxB,CAAL,EAAkC;AAChC;AACA,gBAAIG,IAAI,GAAGF,QAAQ,CAACG,aAAT,CAAuB,GAAvB,CAAX;AACAD,YAAAA,IAAI,CAACH,EAAL,GAAUA,EAAV;AACAG,YAAAA,IAAI,CAACE,IAAL,GAAY,GAAZ;AACAF,YAAAA,IAAI,CAACG,WAAL,GAAmBN,EAAnB;AACAG,YAAAA,IAAI,CAACI,SAAL,GAAiB,QAAjB,CANgC,CAOhC;;AACAJ,YAAAA,IAAI,CAACK,OAAL,GAAe,UAAUC,CAAV,EAAa;AAC1B,kBAAIC,YAAY,GAAG,KAAKJ,WAAxB;AACAG,cAAAA,CAAC,CAACE,cAAF;AACAF,cAAAA,CAAC,CAACG,eAAF;AAEA,kBAAIC,UAAU,GAAG5B,GAAG,CAAC6B,iBAAJ,CACfJ,YADe,EAEf,YAFe,CAAjB,CAL0B,CAU1B;;AACA,kBAAIG,UAAU,KAAK,SAAnB,EAA8B;AAC5B5B,gBAAAA,GAAG,CAAC8B,iBAAJ,CACAL,YADA,EAEA,YAFA,EAGA,MAHA;AAKA,qBAAKH,SAAL,GAAiB,EAAjB;AACD,eAPD,MAOO;AACL,qBAAKA,SAAL,GAAiB,QAAjB;AACAtB,gBAAAA,GAAG,CAAC8B,iBAAJ,CACAL,YADA,EAEA,YAFA,EAGA,SAHA;AAKD;AACF,aA1BD;;AA2BA,gBAAIM,MAAM,GAAGf,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,CAAb;AACAc,YAAAA,MAAM,CAACC,WAAP,CAAmBd,IAAnB;AACD;AACF;AACF;AACA,KAjDH;AAoDD,GArHQ,CAAT;AAuHA,sBACE;AAAA,4BACE;AAAK,MAAA,EAAE,EAAC,mBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAK,MAAA,KAAK,EAAE;AAAEe,QAAAA,KAAK,OAAP;AAAgBC,QAAAA,MAAM;AAAtB,OAAZ;AAA8C,MAAA,EAAE,EAAC,kBAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFF;AAAA;AAAA;AAAA;AAAA,kBADF;AAiDD,CA1KD;;GAAMrC,Y;;AA4KN,eAAeA,YAAf","sourcesContent":["import { useEffect, useState } from 'react'\nimport mapboxgl from 'mapbox-gl/dist/mapbox-gl.js'\n\nconst dynamicLayer = () => {\n  const [pageIsMounted, setPageIsMounted] = useState(false)\n  useEffect(() => {\n    setPageIsMounted(true)\n\n    const map = new mapboxgl.Map({\n      container: 'dynamicLayer-map',\n      style: 'mapbox://styles/mapbox/streets-v11',\n      zoom: 15,\n      center: [-71.97722138410576, -13.517379300798098]\n      });\n\n      // Wait until the map has finished loading.\n      // Add a custom vector tileset source. This tileset contains\n    map.on('load', function () {\n      // point features representing museums. Each feature contains\n      // three properties. For example:\n      // {\n      //     alt_name: \"Museo Arqueologico\",\n      //     name: \"Museo Inka\",\n      //     tourism: \"museum\"\n      // }\n      map.addSource('museums', {\n        type: 'vector',\n        url: 'mapbox://mapbox.2opop9hr'\n      });\n      map.addLayer({\n        'id': 'museums',\n        'type': 'circle',\n        'source': 'museums',\n        'layout': {\n          // Make the layer visible by default.\n          'visibility': 'visible'\n        },\n        'paint': {\n          'circle-radius': 8,\n          'circle-color': 'rgba(55,148,179,1)'\n        },\n        'source-layer': 'museum-cusco'\n      });\n\n      // Add the Mapbox Terrain v2 vector tileset. Read more about\n      // the structure of data in this tileset in the documentation:\n      // https://docs.mapbox.com/vector-tiles/reference/mapbox-terrain-v2/\n      map.addSource('contours', {\n        type: 'vector',\n        url: 'mapbox://mapbox.mapbox-terrain-v2'\n      });\n      map.addLayer({\n        'id': 'contours',\n        'type': 'line',\n        'source': 'contours',\n        'source-layer': 'contour',\n        'layout': {\n          // Make the layer visible by default.\n          'visibility': 'visible',\n          'line-join': 'round',\n          'line-cap': 'round'\n        },\n        'paint': {\n          'line-color': '#877b59',\n          'line-width': 1\n        }\n      });\n    });\n\n      // After the last frame rendered before the map enters an \"idle\" state.\n    map.on('idle', function () {\n      // If these two layers have been added to the style,\n      // add the toggle buttons.\n      if (map.getLayer('contours') && map.getLayer('museums')) {\n        // Enumerate ids of the layers.\n        var toggleableLayerIds = ['contours', 'museums'];\n        // Set up the corresponding toggle button for each layer.\n        for (var i = 0; i < toggleableLayerIds.length; i++) {\n          var id = toggleableLayerIds[i];\n          if (!document.getElementById(id)) {\n            // Create a link.\n            var link = document.createElement('a');\n            link.id = id;\n            link.href = '#';\n            link.textContent = id;\n            link.className = 'active';\n            // Show or hide layer when the toggle is clicked.\n            link.onclick = function (e) {\n              var clickedLayer = this.textContent;\n              e.preventDefault();\n              e.stopPropagation();\n                \n              var visibility = map.getLayoutProperty(\n                clickedLayer,\n                'visibility'\n              );\n                \n              // Toggle layer visibility by changing the layout object's visibility property.\n              if (visibility === 'visible') {\n                map.setLayoutProperty(\n                clickedLayer,\n                'visibility',\n                'none'\n                );\n                this.className = '';\n              } else {\n                this.className = 'active';\n                map.setLayoutProperty(\n                clickedLayer,\n                'visibility',\n                'visible'\n                );\n              }\n            };\n            var layers = document.getElementById('dynamicLayer-menu');\n            layers.appendChild(link);\n          }\n        }\n      }\n      });\n\n    \n  })\n\n  return(\n    <>\n      <nav id=\"dynamicLayer-menu\"></nav>\n      <div style={{ width: `80%`, height: `70vh` }} id=\"dynamicLayer-map\"></div>\n      <style jsx>{`\n        #dynamicLayer-menu {\n          background: #fff;\n          position: absolute;\n          z-index: 1;\n          top: 10px;\n          right: 10px;\n          border-radius: 3px;\n          width: 120px;\n          border: 1px solid rgba(0, 0, 0, 0.4);\n          font-family: 'Open Sans', sans-serif;\n          }\n           \n          #dynamicLayer-menu a {\n          font-size: 13px;\n          color: #404040;\n          display: block;\n          margin: 0;\n          padding: 0;\n          padding: 10px;\n          text-decoration: none;\n          border-bottom: 1px solid rgba(0, 0, 0, 0.25);\n          text-align: center;\n          }\n           \n          #dynamicLayer-menu a:last-child {\n          border: none;\n          }\n           \n          #dynamicLayer-menu a:hover {\n          background-color: #f8f8f8;\n          color: #404040;\n          }\n           \n          #dynamicLayer-menu a.active {\n          background-color: #3887be;\n          color: #ffffff;\n          }\n           \n          #dynamicLayer-menu a.active:hover {\n          background: #3074a4;\n          }\n      `}</style>\n    </>\n  )\n}\n\nexport default dynamicLayer\n"]},"metadata":{},"sourceType":"module"}