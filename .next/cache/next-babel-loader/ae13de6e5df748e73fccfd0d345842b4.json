{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/intermezzto/Documentos/codeProyects/mapbox-project/components/dynamicLayer.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport { useEffect, useState } from 'react';\nimport mapboxgl from 'mapbox-gl/dist/mapbox-gl.js';\n\nconst dynamicLayer = () => {\n  const {\n    0: pageIsMounted,\n    1: setPageIsMounted\n  } = useState(false);\n  useEffect(() => {\n    setPageIsMounted(true);\n    var map = new mapboxgl.Map({\n      container: 'map',\n      style: 'mapbox://styles/mapbox/streets-v11',\n      zoom: 15,\n      center: [-71.97722138410576, -13.517379300798098]\n    }); // Wait until the map has finished loading.\n\n    map.on('load', function () {\n      // Add a custom vector tileset source. This tileset contains\n      // point features representing museums. Each feature contains\n      // three properties. For example:\n      // {\n      //     alt_name: \"Museo Arqueologico\",\n      //     name: \"Museo Inka\",\n      //     tourism: \"museum\"\n      // }\n      map.addSource('museums', {\n        type: 'vector',\n        url: 'mapbox://mapbox.2opop9hr'\n      });\n      map.addLayer({\n        'id': 'museums',\n        'type': 'circle',\n        'source': 'museums',\n        'layout': {\n          // Make the layer visible by default.\n          'visibility': 'visible'\n        },\n        'paint': {\n          'circle-radius': 8,\n          'circle-color': 'rgba(55,148,179,1)'\n        },\n        'source-layer': 'museum-cusco'\n      }); // Add the Mapbox Terrain v2 vector tileset. Read more about\n      // the structure of data in this tileset in the documentation:\n      // https://docs.mapbox.com/vector-tiles/reference/mapbox-terrain-v2/\n\n      map.addSource('contours', {\n        type: 'vector',\n        url: 'mapbox://mapbox.mapbox-terrain-v2'\n      });\n      map.addLayer({\n        'id': 'contours',\n        'type': 'line',\n        'source': 'contours',\n        'source-layer': 'contour',\n        'layout': {\n          // Make the layer visible by default.\n          'visibility': 'visible',\n          'line-join': 'round',\n          'line-cap': 'round'\n        },\n        'paint': {\n          'line-color': '#877b59',\n          'line-width': 1\n        }\n      });\n    }); // After the last frame rendered before the map enters an \"idle\" state.\n\n    map.on('idle', function () {\n      // If these two layers have been added to the style,\n      // add the toggle buttons.\n      if (map.getLayer('contours') && map.getLayer('museums')) {\n        // Enumerate ids of the layers.\n        var toggleableLayerIds = ['contours', 'museums']; // Set up the corresponding toggle button for each layer.\n\n        for (var i = 0; i < toggleableLayerIds.length; i++) {\n          var id = toggleableLayerIds[i];\n\n          if (!document.getElementById(id)) {\n            // Create a link.\n            var link = document.createElement('a');\n            link.id = id;\n            link.href = '#';\n            link.textContent = id;\n            link.className = 'active'; // Show or hide layer when the toggle is clicked.\n\n            link.onclick = function (e) {\n              var clickedLayer = this.textContent;\n              e.preventDefault();\n              e.stopPropagation();\n              var visibility = map.getLayoutProperty(clickedLayer, 'visibility'); // Toggle layer visibility by changing the layout object's visibility property.\n\n              if (visibility === 'visible') {\n                map.setLayoutProperty(clickedLayer, 'visibility', 'none');\n                this.className = '';\n              } else {\n                this.className = 'active';\n                map.setLayoutProperty(clickedLayer, 'visibility', 'visible');\n              }\n            };\n\n            var layers = document.getElementById('menu');\n            layers.appendChild(link);\n          }\n        }\n      }\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      id: \"menu\",\n      className: \"jsx-2957814091\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"map\",\n      className: \"jsx-2957814091\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"2957814091\",\n      children: \"#menu.jsx-2957814091{background:#fff;position:absolute;z-index:1;top:10px;right:10px;border-radius:3px;width:120px;border:1px solid rgba(0,0,0,0.4);font-family:'Open Sans',sans-serif;}#menu.jsx-2957814091 a.jsx-2957814091{font-size:13px;color:#404040;display:block;margin:0;padding:0;padding:10px;-webkit-text-decoration:none;text-decoration:none;border-bottom:1px solid rgba(0,0,0,0.25);text-align:center;}#menu.jsx-2957814091 a.jsx-2957814091:last-child{border:none;}#menu.jsx-2957814091 a.jsx-2957814091:hover{background-color:#f8f8f8;color:#404040;}#menu.jsx-2957814091 a.active.jsx-2957814091{background-color:#3887be;color:#ffffff;}#menu.jsx-2957814091 a.active.jsx-2957814091:hover{background:#3074a4;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ludGVybWV6enRvL0RvY3VtZW50b3MvY29kZVByb3llY3RzL21hcGJveC1wcm9qZWN0L2NvbXBvbmVudHMvZHluYW1pY0xheWVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWdJa0IsQUFHK0IsQUFZRCxBQVlILEFBSWEsQUFLQSxBQUtOLFlBYnZCLEdBWmtCLENBWkksR0FzQ3RCLE1BVmtCLEFBS0EsSUFwQkEsS0FaSixLQTRCZCxBQUtBLElBcEJhLENBWkEsUUFhQyxDQVpDLFNBYUUsRUFaSyxXQWFHLE9BWlQsWUFDd0IsK0JBWVEsRUFYUixtQ0FDeEMsSUFXc0Isa0JBQ3RCIiwiZmlsZSI6Ii9ob21lL2ludGVybWV6enRvL0RvY3VtZW50b3MvY29kZVByb3llY3RzL21hcGJveC1wcm9qZWN0L2NvbXBvbmVudHMvZHluYW1pY0xheWVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IG1hcGJveGdsIGZyb20gJ21hcGJveC1nbC9kaXN0L21hcGJveC1nbC5qcydcblxuY29uc3QgZHluYW1pY0xheWVyID0gKCkgPT4ge1xuICBjb25zdCBbcGFnZUlzTW91bnRlZCwgc2V0UGFnZUlzTW91bnRlZF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRQYWdlSXNNb3VudGVkKHRydWUpXG5cbiAgICB2YXIgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7XG4gICAgICBjb250YWluZXI6ICdtYXAnLFxuICAgICAgc3R5bGU6ICdtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3N0cmVldHMtdjExJyxcbiAgICAgIHpvb206IDE1LFxuICAgICAgY2VudGVyOiBbLTcxLjk3NzIyMTM4NDEwNTc2LCAtMTMuNTE3Mzc5MzAwNzk4MDk4XVxuICAgIH0pO1xuICAgIC8vIFdhaXQgdW50aWwgdGhlIG1hcCBoYXMgZmluaXNoZWQgbG9hZGluZy5cbiAgICBtYXAub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBBZGQgYSBjdXN0b20gdmVjdG9yIHRpbGVzZXQgc291cmNlLiBUaGlzIHRpbGVzZXQgY29udGFpbnNcbiAgICAgIC8vIHBvaW50IGZlYXR1cmVzIHJlcHJlc2VudGluZyBtdXNldW1zLiBFYWNoIGZlYXR1cmUgY29udGFpbnNcbiAgICAgIC8vIHRocmVlIHByb3BlcnRpZXMuIEZvciBleGFtcGxlOlxuICAgICAgLy8ge1xuICAgICAgLy8gICAgIGFsdF9uYW1lOiBcIk11c2VvIEFycXVlb2xvZ2ljb1wiLFxuICAgICAgLy8gICAgIG5hbWU6IFwiTXVzZW8gSW5rYVwiLFxuICAgICAgLy8gICAgIHRvdXJpc206IFwibXVzZXVtXCJcbiAgICAgIC8vIH1cbiAgICAgIG1hcC5hZGRTb3VyY2UoJ211c2V1bXMnLCB7XG4gICAgICAgICAgdHlwZTogJ3ZlY3RvcicsXG4gICAgICAgICAgdXJsOiAnbWFwYm94Oi8vbWFwYm94LjJvcG9wOWhyJ1xuICAgICAgfSk7XG4gICAgICBtYXAuYWRkTGF5ZXIoe1xuICAgICAgICAgICdpZCc6ICdtdXNldW1zJyxcbiAgICAgICAgICAndHlwZSc6ICdjaXJjbGUnLFxuICAgICAgICAgICdzb3VyY2UnOiAnbXVzZXVtcycsXG4gICAgICAgICAgJ2xheW91dCc6IHtcbiAgICAgICAgICAgICAgLy8gTWFrZSB0aGUgbGF5ZXIgdmlzaWJsZSBieSBkZWZhdWx0LlxuICAgICAgICAgICAgICAndmlzaWJpbGl0eSc6ICd2aXNpYmxlJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgJ3BhaW50Jzoge1xuICAgICAgICAgICAgICAnY2lyY2xlLXJhZGl1cyc6IDgsXG4gICAgICAgICAgICAgICdjaXJjbGUtY29sb3InOiAncmdiYSg1NSwxNDgsMTc5LDEpJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgJ3NvdXJjZS1sYXllcic6ICdtdXNldW0tY3VzY28nXG4gICAgICB9KTtcblxuICAgICAgLy8gQWRkIHRoZSBNYXBib3ggVGVycmFpbiB2MiB2ZWN0b3IgdGlsZXNldC4gUmVhZCBtb3JlIGFib3V0XG4gICAgICAvLyB0aGUgc3RydWN0dXJlIG9mIGRhdGEgaW4gdGhpcyB0aWxlc2V0IGluIHRoZSBkb2N1bWVudGF0aW9uOlxuICAgICAgLy8gaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vdmVjdG9yLXRpbGVzL3JlZmVyZW5jZS9tYXBib3gtdGVycmFpbi12Mi9cbiAgICAgIG1hcC5hZGRTb3VyY2UoJ2NvbnRvdXJzJywge1xuICAgICAgICAgIHR5cGU6ICd2ZWN0b3InLFxuICAgICAgICAgIHVybDogJ21hcGJveDovL21hcGJveC5tYXBib3gtdGVycmFpbi12MidcbiAgICAgIH0pO1xuICAgICAgbWFwLmFkZExheWVyKHtcbiAgICAgICAgICAnaWQnOiAnY29udG91cnMnLFxuICAgICAgICAgICd0eXBlJzogJ2xpbmUnLFxuICAgICAgICAgICdzb3VyY2UnOiAnY29udG91cnMnLFxuICAgICAgICAgICdzb3VyY2UtbGF5ZXInOiAnY29udG91cicsXG4gICAgICAgICAgJ2xheW91dCc6IHtcbiAgICAgICAgICAgICAgLy8gTWFrZSB0aGUgbGF5ZXIgdmlzaWJsZSBieSBkZWZhdWx0LlxuICAgICAgICAgICAgICAndmlzaWJpbGl0eSc6ICd2aXNpYmxlJyxcbiAgICAgICAgICAgICAgJ2xpbmUtam9pbic6ICdyb3VuZCcsXG4gICAgICAgICAgICAgICdsaW5lLWNhcCc6ICdyb3VuZCdcbiAgICAgICAgICB9LFxuICAgICAgICAgICdwYWludCc6IHtcbiAgICAgICAgICAgICAgJ2xpbmUtY29sb3InOiAnIzg3N2I1OScsXG4gICAgICAgICAgICAgICdsaW5lLXdpZHRoJzogMVxuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICB9KTtcblxuICAvLyBBZnRlciB0aGUgbGFzdCBmcmFtZSByZW5kZXJlZCBiZWZvcmUgdGhlIG1hcCBlbnRlcnMgYW4gXCJpZGxlXCIgc3RhdGUuXG4gIG1hcC5vbignaWRsZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIElmIHRoZXNlIHR3byBsYXllcnMgaGF2ZSBiZWVuIGFkZGVkIHRvIHRoZSBzdHlsZSxcbiAgICAgIC8vIGFkZCB0aGUgdG9nZ2xlIGJ1dHRvbnMuXG4gICAgICBpZiAobWFwLmdldExheWVyKCdjb250b3VycycpICYmIG1hcC5nZXRMYXllcignbXVzZXVtcycpKSB7XG4gICAgICAgICAgLy8gRW51bWVyYXRlIGlkcyBvZiB0aGUgbGF5ZXJzLlxuICAgICAgICAgIHZhciB0b2dnbGVhYmxlTGF5ZXJJZHMgPSBbJ2NvbnRvdXJzJywgJ211c2V1bXMnXTtcbiAgICAgICAgICAvLyBTZXQgdXAgdGhlIGNvcnJlc3BvbmRpbmcgdG9nZ2xlIGJ1dHRvbiBmb3IgZWFjaCBsYXllci5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvZ2dsZWFibGVMYXllcklkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICB2YXIgaWQgPSB0b2dnbGVhYmxlTGF5ZXJJZHNbaV07XG4gICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpKSB7XG4gICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBsaW5rLlxuICAgICAgICAgICAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICAgICAgICBsaW5rLmlkID0gaWQ7XG4gICAgICAgICAgICAgICAgICBsaW5rLmhyZWYgPSAnIyc7XG4gICAgICAgICAgICAgICAgICBsaW5rLnRleHRDb250ZW50ID0gaWQ7XG4gICAgICAgICAgICAgICAgICBsaW5rLmNsYXNzTmFtZSA9ICdhY3RpdmUnO1xuICAgICAgICAgICAgICAgICAgLy8gU2hvdyBvciBoaWRlIGxheWVyIHdoZW4gdGhlIHRvZ2dsZSBpcyBjbGlja2VkLlxuICAgICAgICAgICAgICAgICAgbGluay5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpY2tlZExheWVyID0gdGhpcy50ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgICAgICAgIHZhciB2aXNpYmlsaXR5ID0gbWFwLmdldExheW91dFByb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlja2VkTGF5ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5J1xuICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAvLyBUb2dnbGUgbGF5ZXIgdmlzaWJpbGl0eSBieSBjaGFuZ2luZyB0aGUgbGF5b3V0IG9iamVjdCdzIHZpc2liaWxpdHkgcHJvcGVydHkuXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHZpc2liaWxpdHkgPT09ICd2aXNpYmxlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlja2VkTGF5ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmlzaWJpbGl0eScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTmFtZSA9ICdhY3RpdmUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlja2VkTGF5ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmlzaWJpbGl0eScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmlzaWJsZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICB2YXIgbGF5ZXJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUnKTtcbiAgICAgICAgICAgICAgICAgIGxheWVycy5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgfSk7XG5cblxuICB9KVxuXG4gIHJldHVybihcbiAgICA8PlxuICAgICAgPG5hdiBpZD1cIm1lbnVcIj48L25hdj5cbiAgICAgIDxkaXYgaWQ9XCJtYXBcIj48L2Rpdj5cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgICNtZW51IHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgICAgICAgICB0b3A6IDEwcHg7XG4gICAgICAgICAgICAgIHJpZ2h0OiAxMHB4O1xuICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICAgICAgICAgIHdpZHRoOiAxMjBweDtcbiAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjQpO1xuICAgICAgICAgICAgICBmb250LWZhbWlseTogJ09wZW4gU2FucycsIHNhbnMtc2VyaWY7XG4gICAgICAgICAgfVxuICAgICAgXG4gICAgICAgICAgI21lbnUgYSB7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgICAgICAgY29sb3I6ICM0MDQwNDA7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICB9XG4gICAgICBcbiAgICAgICAgICAjbWVudSBhOmxhc3QtY2hpbGQge1xuICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgfVxuICAgICAgXG4gICAgICAgICAgI21lbnUgYTpob3ZlciB7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY4Zjg7XG4gICAgICAgICAgICAgIGNvbG9yOiAjNDA0MDQwO1xuICAgICAgICAgIH1cbiAgICAgIFxuICAgICAgICAgICNtZW51IGEuYWN0aXZlIHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzM4ODdiZTtcbiAgICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7XG4gICAgICAgICAgfVxuICAgICAgXG4gICAgICAgICAgI21lbnUgYS5hY3RpdmU6aG92ZXIge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMzA3NGE0O1xuICAgICAgICAgIH1cbiAgICAgIFxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IGR5bmFtaWNMYXllclxuXG5cbi8vIGltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbi8vIGltcG9ydCBtYXBib3hnbCBmcm9tICdtYXBib3gtZ2wvZGlzdC9tYXBib3gtZ2wuanMnXG5cbi8vIGNvbnN0IGR5bmFtaWNMYXllciA9ICgpID0+IHtcbi8vICAgY29uc3QgW3BhZ2VJc01vdW50ZWQsIHNldFBhZ2VJc01vdW50ZWRdID0gdXNlU3RhdGUoZmFsc2UpXG4vLyAgIHVzZUVmZmVjdCgoKSA9PiB7XG4vLyAgICAgc2V0UGFnZUlzTW91bnRlZCh0cnVlKVxuXG4vLyAgICAgY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7XG4vLyAgICAgICBjb250YWluZXI6ICdkeW5hbWljTGF5ZXItbWFwJyxcbi8vICAgICAgIHN0eWxlOiAnbWFwYm94Oi8vc3R5bGVzL21hcGJveC9zdHJlZXRzLXYxMScsXG4vLyAgICAgICB6b29tOiAxNSxcbi8vICAgICAgIGNlbnRlcjogWy03MS45NzcyMjEzODQxMDU3NiwgLTEzLjUxNzM3OTMwMDc5ODA5OF1cbi8vICAgICAgIH0pO1xuXG4vLyAgICAgICAvLyBXYWl0IHVudGlsIHRoZSBtYXAgaGFzIGZpbmlzaGVkIGxvYWRpbmcuXG4vLyAgICAgICAvLyBBZGQgYSBjdXN0b20gdmVjdG9yIHRpbGVzZXQgc291cmNlLiBUaGlzIHRpbGVzZXQgY29udGFpbnNcbi8vICAgICBtYXAub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4vLyAgICAgICAvLyBwb2ludCBmZWF0dXJlcyByZXByZXNlbnRpbmcgbXVzZXVtcy4gRWFjaCBmZWF0dXJlIGNvbnRhaW5zXG4vLyAgICAgICAvLyB0aHJlZSBwcm9wZXJ0aWVzLiBGb3IgZXhhbXBsZTpcbi8vICAgICAgIC8vIHtcbi8vICAgICAgIC8vICAgICBhbHRfbmFtZTogXCJNdXNlbyBBcnF1ZW9sb2dpY29cIixcbi8vICAgICAgIC8vICAgICBuYW1lOiBcIk11c2VvIElua2FcIixcbi8vICAgICAgIC8vICAgICB0b3VyaXNtOiBcIm11c2V1bVwiXG4vLyAgICAgICAvLyB9XG4vLyAgICAgICBtYXAuYWRkU291cmNlKCdtdXNldW1zJywge1xuLy8gICAgICAgICB0eXBlOiAndmVjdG9yJyxcbi8vICAgICAgICAgdXJsOiAnbWFwYm94Oi8vbWFwYm94LjJvcG9wOWhyJ1xuLy8gICAgICAgfSk7XG4vLyAgICAgICBtYXAuYWRkTGF5ZXIoe1xuLy8gICAgICAgICAnaWQnOiAnbXVzZXVtcycsXG4vLyAgICAgICAgICd0eXBlJzogJ2NpcmNsZScsXG4vLyAgICAgICAgICdzb3VyY2UnOiAnbXVzZXVtcycsXG4vLyAgICAgICAgICdsYXlvdXQnOiB7XG4vLyAgICAgICAgICAgLy8gTWFrZSB0aGUgbGF5ZXIgdmlzaWJsZSBieSBkZWZhdWx0LlxuLy8gICAgICAgICAgICd2aXNpYmlsaXR5JzogJ3Zpc2libGUnXG4vLyAgICAgICAgIH0sXG4vLyAgICAgICAgICdwYWludCc6IHtcbi8vICAgICAgICAgICAnY2lyY2xlLXJhZGl1cyc6IDgsXG4vLyAgICAgICAgICAgJ2NpcmNsZS1jb2xvcic6ICdyZ2JhKDU1LDE0OCwxNzksMSknXG4vLyAgICAgICAgIH0sXG4vLyAgICAgICAgICdzb3VyY2UtbGF5ZXInOiAnbXVzZXVtLWN1c2NvJ1xuLy8gICAgICAgfSk7XG5cbi8vICAgICAgIC8vIEFkZCB0aGUgTWFwYm94IFRlcnJhaW4gdjIgdmVjdG9yIHRpbGVzZXQuIFJlYWQgbW9yZSBhYm91dFxuLy8gICAgICAgLy8gdGhlIHN0cnVjdHVyZSBvZiBkYXRhIGluIHRoaXMgdGlsZXNldCBpbiB0aGUgZG9jdW1lbnRhdGlvbjpcbi8vICAgICAgIC8vIGh0dHBzOi8vZG9jcy5tYXBib3guY29tL3ZlY3Rvci10aWxlcy9yZWZlcmVuY2UvbWFwYm94LXRlcnJhaW4tdjIvXG4vLyAgICAgICBtYXAuYWRkU291cmNlKCdjb250b3VycycsIHtcbi8vICAgICAgICAgdHlwZTogJ3ZlY3RvcicsXG4vLyAgICAgICAgIHVybDogJ21hcGJveDovL21hcGJveC5tYXBib3gtdGVycmFpbi12Midcbi8vICAgICAgIH0pO1xuLy8gICAgICAgbWFwLmFkZExheWVyKHtcbi8vICAgICAgICAgJ2lkJzogJ2NvbnRvdXJzJyxcbi8vICAgICAgICAgJ3R5cGUnOiAnbGluZScsXG4vLyAgICAgICAgICdzb3VyY2UnOiAnY29udG91cnMnLFxuLy8gICAgICAgICAnc291cmNlLWxheWVyJzogJ2NvbnRvdXInLFxuLy8gICAgICAgICAnbGF5b3V0Jzoge1xuLy8gICAgICAgICAgIC8vIE1ha2UgdGhlIGxheWVyIHZpc2libGUgYnkgZGVmYXVsdC5cbi8vICAgICAgICAgICAndmlzaWJpbGl0eSc6ICd2aXNpYmxlJyxcbi8vICAgICAgICAgICAnbGluZS1qb2luJzogJ3JvdW5kJyxcbi8vICAgICAgICAgICAnbGluZS1jYXAnOiAncm91bmQnXG4vLyAgICAgICAgIH0sXG4vLyAgICAgICAgICdwYWludCc6IHtcbi8vICAgICAgICAgICAnbGluZS1jb2xvcic6ICcjODc3YjU5Jyxcbi8vICAgICAgICAgICAnbGluZS13aWR0aCc6IDFcbi8vICAgICAgICAgfVxuLy8gICAgICAgfSk7XG4vLyAgICAgfSk7XG5cbi8vICAgICAgIC8vIEFmdGVyIHRoZSBsYXN0IGZyYW1lIHJlbmRlcmVkIGJlZm9yZSB0aGUgbWFwIGVudGVycyBhbiBcImlkbGVcIiBzdGF0ZS5cbi8vICAgICBtYXAub24oJ2lkbGUnLCBmdW5jdGlvbiAoKSB7XG4vLyAgICAgICAvLyBJZiB0aGVzZSB0d28gbGF5ZXJzIGhhdmUgYmVlbiBhZGRlZCB0byB0aGUgc3R5bGUsXG4vLyAgICAgICAvLyBhZGQgdGhlIHRvZ2dsZSBidXR0b25zLlxuLy8gICAgICAgaWYgKG1hcC5nZXRMYXllcignY29udG91cnMnKSAmJiBtYXAuZ2V0TGF5ZXIoJ211c2V1bXMnKSkge1xuLy8gICAgICAgICAvLyBFbnVtZXJhdGUgaWRzIG9mIHRoZSBsYXllcnMuXG4vLyAgICAgICAgIHZhciB0b2dnbGVhYmxlTGF5ZXJJZHMgPSBbJ2NvbnRvdXJzJywgJ211c2V1bXMnXTtcbi8vICAgICAgICAgLy8gU2V0IHVwIHRoZSBjb3JyZXNwb25kaW5nIHRvZ2dsZSBidXR0b24gZm9yIGVhY2ggbGF5ZXIuXG4vLyAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9nZ2xlYWJsZUxheWVySWRzLmxlbmd0aDsgaSsrKSB7XG4vLyAgICAgICAgICAgdmFyIGlkID0gdG9nZ2xlYWJsZUxheWVySWRzW2ldO1xuLy8gICAgICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpKSB7XG4vLyAgICAgICAgICAgICAvLyBDcmVhdGUgYSBsaW5rLlxuLy8gICAgICAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4vLyAgICAgICAgICAgICBsaW5rLmlkID0gaWQ7XG4vLyAgICAgICAgICAgICBsaW5rLmhyZWYgPSAnIyc7XG4vLyAgICAgICAgICAgICBsaW5rLnRleHRDb250ZW50ID0gaWQ7XG4vLyAgICAgICAgICAgICBsaW5rLmNsYXNzTmFtZSA9ICdhY3RpdmUnO1xuLy8gICAgICAgICAgICAgLy8gU2hvdyBvciBoaWRlIGxheWVyIHdoZW4gdGhlIHRvZ2dsZSBpcyBjbGlja2VkLlxuLy8gICAgICAgICAgICAgbGluay5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbi8vICAgICAgICAgICAgICAgdmFyIGNsaWNrZWRMYXllciA9IHRoaXMudGV4dENvbnRlbnQ7XG4vLyAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbi8vICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBcbi8vICAgICAgICAgICAgICAgdmFyIHZpc2liaWxpdHkgPSBtYXAuZ2V0TGF5b3V0UHJvcGVydHkoXG4vLyAgICAgICAgICAgICAgICAgY2xpY2tlZExheWVyLFxuLy8gICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5J1xuLy8gICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIFxuLy8gICAgICAgICAgICAgICAvLyBUb2dnbGUgbGF5ZXIgdmlzaWJpbGl0eSBieSBjaGFuZ2luZyB0aGUgbGF5b3V0IG9iamVjdCdzIHZpc2liaWxpdHkgcHJvcGVydHkuXG4vLyAgICAgICAgICAgICAgIGlmICh2aXNpYmlsaXR5ID09PSAndmlzaWJsZScpIHtcbi8vICAgICAgICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoXG4vLyAgICAgICAgICAgICAgICAgY2xpY2tlZExheWVyLFxuLy8gICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5Jyxcbi8vICAgICAgICAgICAgICAgICAnbm9uZSdcbi8vICAgICAgICAgICAgICAgICApO1xuLy8gICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID0gJyc7XG4vLyAgICAgICAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPSAnYWN0aXZlJztcbi8vICAgICAgICAgICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoXG4vLyAgICAgICAgICAgICAgICAgY2xpY2tlZExheWVyLFxuLy8gICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5Jyxcbi8vICAgICAgICAgICAgICAgICAndmlzaWJsZSdcbi8vICAgICAgICAgICAgICAgICApO1xuLy8gICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICB9O1xuLy8gICAgICAgICAgICAgdmFyIGxheWVycyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkeW5hbWljTGF5ZXItbWVudScpO1xuLy8gICAgICAgICAgICAgbGF5ZXJzLmFwcGVuZENoaWxkKGxpbmspO1xuLy8gICAgICAgICAgIH1cbi8vICAgICAgICAgfVxuLy8gICAgICAgfVxuLy8gICAgICAgfSk7XG5cbiAgICBcbi8vICAgfSlcblxuLy8gICByZXR1cm4oXG4vLyAgICAgPD5cbi8vICAgICAgIDxuYXYgaWQ9XCJkeW5hbWljTGF5ZXItbWVudVwiPjwvbmF2PlxuLy8gICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogYDgwJWAsIGhlaWdodDogYDcwdmhgIH19IGlkPVwiZHluYW1pY0xheWVyLW1hcFwiPjwvZGl2PlxuLy8gICAgICAgPHN0eWxlIGpzeD57YFxuLy8gICAgICAgICAjZHluYW1pY0xheWVyLW1lbnUge1xuLy8gICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmY7XG4vLyAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuLy8gICAgICAgICAgIHotaW5kZXg6IDE7XG4vLyAgICAgICAgICAgdG9wOiAxMHB4O1xuLy8gICAgICAgICAgIHJpZ2h0OiAxMHB4O1xuLy8gICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbi8vICAgICAgICAgICB3aWR0aDogMTIwcHg7XG4vLyAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjQpO1xuLy8gICAgICAgICAgIGZvbnQtZmFtaWx5OiAnT3BlbiBTYW5zJywgc2Fucy1zZXJpZjtcbi8vICAgICAgICAgICB9XG4gICAgICAgICAgIFxuLy8gICAgICAgICAgICNkeW5hbWljTGF5ZXItbWVudSBhIHtcbi8vICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XG4vLyAgICAgICAgICAgY29sb3I6ICM0MDQwNDA7XG4vLyAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4vLyAgICAgICAgICAgbWFyZ2luOiAwO1xuLy8gICAgICAgICAgIHBhZGRpbmc6IDA7XG4vLyAgICAgICAgICAgcGFkZGluZzogMTBweDtcbi8vICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4vLyAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4vLyAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuLy8gICAgICAgICAgIH1cbiAgICAgICAgICAgXG4vLyAgICAgICAgICAgI2R5bmFtaWNMYXllci1tZW51IGE6bGFzdC1jaGlsZCB7XG4vLyAgICAgICAgICAgYm9yZGVyOiBub25lO1xuLy8gICAgICAgICAgIH1cbiAgICAgICAgICAgXG4vLyAgICAgICAgICAgI2R5bmFtaWNMYXllci1tZW51IGE6aG92ZXIge1xuLy8gICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY4Zjg7XG4vLyAgICAgICAgICAgY29sb3I6ICM0MDQwNDA7XG4vLyAgICAgICAgICAgfVxuICAgICAgICAgICBcbi8vICAgICAgICAgICAjZHluYW1pY0xheWVyLW1lbnUgYS5hY3RpdmUge1xuLy8gICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzODg3YmU7XG4vLyAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7XG4vLyAgICAgICAgICAgfVxuICAgICAgICAgICBcbi8vICAgICAgICAgICAjZHluYW1pY0xheWVyLW1lbnUgYS5hY3RpdmU6aG92ZXIge1xuLy8gICAgICAgICAgIGJhY2tncm91bmQ6ICMzMDc0YTQ7XG4vLyAgICAgICAgICAgfVxuLy8gICAgICAgYH08L3N0eWxlPlxuLy8gICAgIDwvPlxuLy8gICApXG4vLyB9XG5cbi8vIGV4cG9ydCBkZWZhdWx0IGR5bmFtaWNMYXllclxuIl19 */\\n/*@ sourceURL=/home/intermezzto/Documentos/codeProyects/mapbox-project/components/dynamicLayer.js */\"\n    }, void 0, false, void 0, this)]\n  }, void 0, true);\n};\n\nexport default dynamicLayer; // import { useEffect, useState } from 'react'\n// import mapboxgl from 'mapbox-gl/dist/mapbox-gl.js'\n// const dynamicLayer = () => {\n//   const [pageIsMounted, setPageIsMounted] = useState(false)\n//   useEffect(() => {\n//     setPageIsMounted(true)\n//     const map = new mapboxgl.Map({\n//       container: 'dynamicLayer-map',\n//       style: 'mapbox://styles/mapbox/streets-v11',\n//       zoom: 15,\n//       center: [-71.97722138410576, -13.517379300798098]\n//       });\n//       // Wait until the map has finished loading.\n//       // Add a custom vector tileset source. This tileset contains\n//     map.on('load', function () {\n//       // point features representing museums. Each feature contains\n//       // three properties. For example:\n//       // {\n//       //     alt_name: \"Museo Arqueologico\",\n//       //     name: \"Museo Inka\",\n//       //     tourism: \"museum\"\n//       // }\n//       map.addSource('museums', {\n//         type: 'vector',\n//         url: 'mapbox://mapbox.2opop9hr'\n//       });\n//       map.addLayer({\n//         'id': 'museums',\n//         'type': 'circle',\n//         'source': 'museums',\n//         'layout': {\n//           // Make the layer visible by default.\n//           'visibility': 'visible'\n//         },\n//         'paint': {\n//           'circle-radius': 8,\n//           'circle-color': 'rgba(55,148,179,1)'\n//         },\n//         'source-layer': 'museum-cusco'\n//       });\n//       // Add the Mapbox Terrain v2 vector tileset. Read more about\n//       // the structure of data in this tileset in the documentation:\n//       // https://docs.mapbox.com/vector-tiles/reference/mapbox-terrain-v2/\n//       map.addSource('contours', {\n//         type: 'vector',\n//         url: 'mapbox://mapbox.mapbox-terrain-v2'\n//       });\n//       map.addLayer({\n//         'id': 'contours',\n//         'type': 'line',\n//         'source': 'contours',\n//         'source-layer': 'contour',\n//         'layout': {\n//           // Make the layer visible by default.\n//           'visibility': 'visible',\n//           'line-join': 'round',\n//           'line-cap': 'round'\n//         },\n//         'paint': {\n//           'line-color': '#877b59',\n//           'line-width': 1\n//         }\n//       });\n//     });\n//       // After the last frame rendered before the map enters an \"idle\" state.\n//     map.on('idle', function () {\n//       // If these two layers have been added to the style,\n//       // add the toggle buttons.\n//       if (map.getLayer('contours') && map.getLayer('museums')) {\n//         // Enumerate ids of the layers.\n//         var toggleableLayerIds = ['contours', 'museums'];\n//         // Set up the corresponding toggle button for each layer.\n//         for (var i = 0; i < toggleableLayerIds.length; i++) {\n//           var id = toggleableLayerIds[i];\n//           if (!document.getElementById(id)) {\n//             // Create a link.\n//             var link = document.createElement('a');\n//             link.id = id;\n//             link.href = '#';\n//             link.textContent = id;\n//             link.className = 'active';\n//             // Show or hide layer when the toggle is clicked.\n//             link.onclick = function (e) {\n//               var clickedLayer = this.textContent;\n//               e.preventDefault();\n//               e.stopPropagation();\n//               var visibility = map.getLayoutProperty(\n//                 clickedLayer,\n//                 'visibility'\n//               );\n//               // Toggle layer visibility by changing the layout object's visibility property.\n//               if (visibility === 'visible') {\n//                 map.setLayoutProperty(\n//                 clickedLayer,\n//                 'visibility',\n//                 'none'\n//                 );\n//                 this.className = '';\n//               } else {\n//                 this.className = 'active';\n//                 map.setLayoutProperty(\n//                 clickedLayer,\n//                 'visibility',\n//                 'visible'\n//                 );\n//               }\n//             };\n//             var layers = document.getElementById('dynamicLayer-menu');\n//             layers.appendChild(link);\n//           }\n//         }\n//       }\n//       });\n//   })\n//   return(\n//     <>\n//       <nav id=\"dynamicLayer-menu\"></nav>\n//       <div style={{ width: `80%`, height: `70vh` }} id=\"dynamicLayer-map\"></div>\n//       <style jsx>{`\n//         #dynamicLayer-menu {\n//           background: #fff;\n//           position: absolute;\n//           z-index: 1;\n//           top: 10px;\n//           right: 10px;\n//           border-radius: 3px;\n//           width: 120px;\n//           border: 1px solid rgba(0, 0, 0, 0.4);\n//           font-family: 'Open Sans', sans-serif;\n//           }\n//           #dynamicLayer-menu a {\n//           font-size: 13px;\n//           color: #404040;\n//           display: block;\n//           margin: 0;\n//           padding: 0;\n//           padding: 10px;\n//           text-decoration: none;\n//           border-bottom: 1px solid rgba(0, 0, 0, 0.25);\n//           text-align: center;\n//           }\n//           #dynamicLayer-menu a:last-child {\n//           border: none;\n//           }\n//           #dynamicLayer-menu a:hover {\n//           background-color: #f8f8f8;\n//           color: #404040;\n//           }\n//           #dynamicLayer-menu a.active {\n//           background-color: #3887be;\n//           color: #ffffff;\n//           }\n//           #dynamicLayer-menu a.active:hover {\n//           background: #3074a4;\n//           }\n//       `}</style>\n//     </>\n//   )\n// }\n// export default dynamicLayer","map":{"version":3,"sources":["/home/intermezzto/Documentos/codeProyects/mapbox-project/components/dynamicLayer.js"],"names":["useEffect","useState","mapboxgl","dynamicLayer","pageIsMounted","setPageIsMounted","map","Map","container","style","zoom","center","on","addSource","type","url","addLayer","getLayer","toggleableLayerIds","i","length","id","document","getElementById","link","createElement","href","textContent","className","onclick","e","clickedLayer","preventDefault","stopPropagation","visibility","getLayoutProperty","setLayoutProperty","layers","appendChild"],"mappings":"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AM,CAACC,WAAP,CAAmBd,IAAnB;AACH;AACJ;AACJ;AACJ,KAlDD;AAqDC,GArHQ,CAAT;AAuHA,sBACE;AAAA,4BACE;AAAK,MAAA,EAAE,EAAC,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,EAAE,EAAC,KAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA,kBADF;AAkDD,CA3KD;;AA6KA,eAAerB,YAAf,C,CAGA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import { useEffect, useState } from 'react'\nimport mapboxgl from 'mapbox-gl/dist/mapbox-gl.js'\n\nconst dynamicLayer = () => {\n  const [pageIsMounted, setPageIsMounted] = useState(false)\n  useEffect(() => {\n    setPageIsMounted(true)\n\n    var map = new mapboxgl.Map({\n      container: 'map',\n      style: 'mapbox://styles/mapbox/streets-v11',\n      zoom: 15,\n      center: [-71.97722138410576, -13.517379300798098]\n    });\n    // Wait until the map has finished loading.\n    map.on('load', function () {\n      // Add a custom vector tileset source. This tileset contains\n      // point features representing museums. Each feature contains\n      // three properties. For example:\n      // {\n      //     alt_name: \"Museo Arqueologico\",\n      //     name: \"Museo Inka\",\n      //     tourism: \"museum\"\n      // }\n      map.addSource('museums', {\n          type: 'vector',\n          url: 'mapbox://mapbox.2opop9hr'\n      });\n      map.addLayer({\n          'id': 'museums',\n          'type': 'circle',\n          'source': 'museums',\n          'layout': {\n              // Make the layer visible by default.\n              'visibility': 'visible'\n          },\n          'paint': {\n              'circle-radius': 8,\n              'circle-color': 'rgba(55,148,179,1)'\n          },\n          'source-layer': 'museum-cusco'\n      });\n\n      // Add the Mapbox Terrain v2 vector tileset. Read more about\n      // the structure of data in this tileset in the documentation:\n      // https://docs.mapbox.com/vector-tiles/reference/mapbox-terrain-v2/\n      map.addSource('contours', {\n          type: 'vector',\n          url: 'mapbox://mapbox.mapbox-terrain-v2'\n      });\n      map.addLayer({\n          'id': 'contours',\n          'type': 'line',\n          'source': 'contours',\n          'source-layer': 'contour',\n          'layout': {\n              // Make the layer visible by default.\n              'visibility': 'visible',\n              'line-join': 'round',\n              'line-cap': 'round'\n          },\n          'paint': {\n              'line-color': '#877b59',\n              'line-width': 1\n          }\n      });\n  });\n\n  // After the last frame rendered before the map enters an \"idle\" state.\n  map.on('idle', function () {\n      // If these two layers have been added to the style,\n      // add the toggle buttons.\n      if (map.getLayer('contours') && map.getLayer('museums')) {\n          // Enumerate ids of the layers.\n          var toggleableLayerIds = ['contours', 'museums'];\n          // Set up the corresponding toggle button for each layer.\n          for (var i = 0; i < toggleableLayerIds.length; i++) {\n              var id = toggleableLayerIds[i];\n              if (!document.getElementById(id)) {\n                  // Create a link.\n                  var link = document.createElement('a');\n                  link.id = id;\n                  link.href = '#';\n                  link.textContent = id;\n                  link.className = 'active';\n                  // Show or hide layer when the toggle is clicked.\n                  link.onclick = function (e) {\n                      var clickedLayer = this.textContent;\n                      e.preventDefault();\n                      e.stopPropagation();\n\n                      var visibility = map.getLayoutProperty(\n                          clickedLayer,\n                          'visibility'\n                      );\n\n                      // Toggle layer visibility by changing the layout object's visibility property.\n                      if (visibility === 'visible') {\n                          map.setLayoutProperty(\n                              clickedLayer,\n                              'visibility',\n                              'none'\n                          );\n                          this.className = '';\n                      } else {\n                          this.className = 'active';\n                          map.setLayoutProperty(\n                              clickedLayer,\n                              'visibility',\n                              'visible'\n                          );\n                      }\n                  };\n\n                  var layers = document.getElementById('menu');\n                  layers.appendChild(link);\n              }\n          }\n      }\n  });\n\n\n  })\n\n  return(\n    <>\n      <nav id=\"menu\"></nav>\n      <div id=\"map\"></div>\n      <style jsx>{`\n            #menu {\n              background: #fff;\n              position: absolute;\n              z-index: 1;\n              top: 10px;\n              right: 10px;\n              border-radius: 3px;\n              width: 120px;\n              border: 1px solid rgba(0, 0, 0, 0.4);\n              font-family: 'Open Sans', sans-serif;\n          }\n      \n          #menu a {\n              font-size: 13px;\n              color: #404040;\n              display: block;\n              margin: 0;\n              padding: 0;\n              padding: 10px;\n              text-decoration: none;\n              border-bottom: 1px solid rgba(0, 0, 0, 0.25);\n              text-align: center;\n          }\n      \n          #menu a:last-child {\n              border: none;\n          }\n      \n          #menu a:hover {\n              background-color: #f8f8f8;\n              color: #404040;\n          }\n      \n          #menu a.active {\n              background-color: #3887be;\n              color: #ffffff;\n          }\n      \n          #menu a.active:hover {\n              background: #3074a4;\n          }\n      \n      `}</style>\n    </>\n  )\n}\n\nexport default dynamicLayer\n\n\n// import { useEffect, useState } from 'react'\n// import mapboxgl from 'mapbox-gl/dist/mapbox-gl.js'\n\n// const dynamicLayer = () => {\n//   const [pageIsMounted, setPageIsMounted] = useState(false)\n//   useEffect(() => {\n//     setPageIsMounted(true)\n\n//     const map = new mapboxgl.Map({\n//       container: 'dynamicLayer-map',\n//       style: 'mapbox://styles/mapbox/streets-v11',\n//       zoom: 15,\n//       center: [-71.97722138410576, -13.517379300798098]\n//       });\n\n//       // Wait until the map has finished loading.\n//       // Add a custom vector tileset source. This tileset contains\n//     map.on('load', function () {\n//       // point features representing museums. Each feature contains\n//       // three properties. For example:\n//       // {\n//       //     alt_name: \"Museo Arqueologico\",\n//       //     name: \"Museo Inka\",\n//       //     tourism: \"museum\"\n//       // }\n//       map.addSource('museums', {\n//         type: 'vector',\n//         url: 'mapbox://mapbox.2opop9hr'\n//       });\n//       map.addLayer({\n//         'id': 'museums',\n//         'type': 'circle',\n//         'source': 'museums',\n//         'layout': {\n//           // Make the layer visible by default.\n//           'visibility': 'visible'\n//         },\n//         'paint': {\n//           'circle-radius': 8,\n//           'circle-color': 'rgba(55,148,179,1)'\n//         },\n//         'source-layer': 'museum-cusco'\n//       });\n\n//       // Add the Mapbox Terrain v2 vector tileset. Read more about\n//       // the structure of data in this tileset in the documentation:\n//       // https://docs.mapbox.com/vector-tiles/reference/mapbox-terrain-v2/\n//       map.addSource('contours', {\n//         type: 'vector',\n//         url: 'mapbox://mapbox.mapbox-terrain-v2'\n//       });\n//       map.addLayer({\n//         'id': 'contours',\n//         'type': 'line',\n//         'source': 'contours',\n//         'source-layer': 'contour',\n//         'layout': {\n//           // Make the layer visible by default.\n//           'visibility': 'visible',\n//           'line-join': 'round',\n//           'line-cap': 'round'\n//         },\n//         'paint': {\n//           'line-color': '#877b59',\n//           'line-width': 1\n//         }\n//       });\n//     });\n\n//       // After the last frame rendered before the map enters an \"idle\" state.\n//     map.on('idle', function () {\n//       // If these two layers have been added to the style,\n//       // add the toggle buttons.\n//       if (map.getLayer('contours') && map.getLayer('museums')) {\n//         // Enumerate ids of the layers.\n//         var toggleableLayerIds = ['contours', 'museums'];\n//         // Set up the corresponding toggle button for each layer.\n//         for (var i = 0; i < toggleableLayerIds.length; i++) {\n//           var id = toggleableLayerIds[i];\n//           if (!document.getElementById(id)) {\n//             // Create a link.\n//             var link = document.createElement('a');\n//             link.id = id;\n//             link.href = '#';\n//             link.textContent = id;\n//             link.className = 'active';\n//             // Show or hide layer when the toggle is clicked.\n//             link.onclick = function (e) {\n//               var clickedLayer = this.textContent;\n//               e.preventDefault();\n//               e.stopPropagation();\n                \n//               var visibility = map.getLayoutProperty(\n//                 clickedLayer,\n//                 'visibility'\n//               );\n                \n//               // Toggle layer visibility by changing the layout object's visibility property.\n//               if (visibility === 'visible') {\n//                 map.setLayoutProperty(\n//                 clickedLayer,\n//                 'visibility',\n//                 'none'\n//                 );\n//                 this.className = '';\n//               } else {\n//                 this.className = 'active';\n//                 map.setLayoutProperty(\n//                 clickedLayer,\n//                 'visibility',\n//                 'visible'\n//                 );\n//               }\n//             };\n//             var layers = document.getElementById('dynamicLayer-menu');\n//             layers.appendChild(link);\n//           }\n//         }\n//       }\n//       });\n\n    \n//   })\n\n//   return(\n//     <>\n//       <nav id=\"dynamicLayer-menu\"></nav>\n//       <div style={{ width: `80%`, height: `70vh` }} id=\"dynamicLayer-map\"></div>\n//       <style jsx>{`\n//         #dynamicLayer-menu {\n//           background: #fff;\n//           position: absolute;\n//           z-index: 1;\n//           top: 10px;\n//           right: 10px;\n//           border-radius: 3px;\n//           width: 120px;\n//           border: 1px solid rgba(0, 0, 0, 0.4);\n//           font-family: 'Open Sans', sans-serif;\n//           }\n           \n//           #dynamicLayer-menu a {\n//           font-size: 13px;\n//           color: #404040;\n//           display: block;\n//           margin: 0;\n//           padding: 0;\n//           padding: 10px;\n//           text-decoration: none;\n//           border-bottom: 1px solid rgba(0, 0, 0, 0.25);\n//           text-align: center;\n//           }\n           \n//           #dynamicLayer-menu a:last-child {\n//           border: none;\n//           }\n           \n//           #dynamicLayer-menu a:hover {\n//           background-color: #f8f8f8;\n//           color: #404040;\n//           }\n           \n//           #dynamicLayer-menu a.active {\n//           background-color: #3887be;\n//           color: #ffffff;\n//           }\n           \n//           #dynamicLayer-menu a.active:hover {\n//           background: #3074a4;\n//           }\n//       `}</style>\n//     </>\n//   )\n// }\n\n// export default dynamicLayer\n"]},"metadata":{},"sourceType":"module"}