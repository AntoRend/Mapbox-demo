{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/intermezzto/Documentos/codeProyects/mapbox-project/components/dynamicLayer.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport { useEffect, useState } from 'react';\nimport mapboxgl from 'mapbox-gl/dist/mapbox-gl.js';\n\nconst dynamicLayer = () => {\n  const {\n    0: pageIsMounted,\n    1: setPageIsMounted\n  } = useState(false);\n  useEffect(() => {\n    setPageIsMounted(true);\n    const map = new mapboxgl.Map({\n      container: 'dynamicLayer-map',\n      style: 'mapbox://styles/mapbox/streets-v11',\n      zoom: 15,\n      center: [-71.97722138410576, -13.517379300798098]\n    }); // Wait until the map has finished loading.\n    // Add a custom vector tileset source. This tileset contains\n\n    map.on('load', function () {\n      // point features representing museums. Each feature contains\n      // three properties. For example:\n      // {\n      //     alt_name: \"Museo Arqueologico\",\n      //     name: \"Museo Inka\",\n      //     tourism: \"museum\"\n      // }\n      map.addSource('museums', {\n        type: 'vector',\n        url: 'mapbox://mapbox.2opop9hr'\n      });\n      map.addLayer({\n        'id': 'museums',\n        'type': 'circle',\n        'source': 'museums',\n        'layout': {\n          // Make the layer visible by default.\n          'visibility': 'visible'\n        },\n        'paint': {\n          'circle-radius': 8,\n          'circle-color': 'rgba(55,148,179,1)'\n        },\n        'source-layer': 'museum-cusco'\n      }); // Add the Mapbox Terrain v2 vector tileset. Read more about\n      // the structure of data in this tileset in the documentation:\n      // https://docs.mapbox.com/vector-tiles/reference/mapbox-terrain-v2/\n\n      map.addSource('contours', {\n        type: 'vector',\n        url: 'mapbox://mapbox.mapbox-terrain-v2'\n      });\n      map.addLayer({\n        'id': 'contours',\n        'type': 'line',\n        'source': 'contours',\n        'source-layer': 'contour',\n        'layout': {\n          // Make the layer visible by default.\n          'visibility': 'visible',\n          'line-join': 'round',\n          'line-cap': 'round'\n        },\n        'paint': {\n          'line-color': '#877b59',\n          'line-width': 1\n        }\n      });\n    }); // After the last frame rendered before the map enters an \"idle\" state.\n\n    map.on('idle', function () {\n      // If these two layers have been added to the style,\n      // add the toggle buttons.\n      if (map.getLayer('contours') && map.getLayer('museums')) {\n        // Enumerate ids of the layers.\n        var toggleableLayerIds = ['contours', 'museums']; // Set up the corresponding toggle button for each layer.\n\n        for (var i = 0; i < toggleableLayerIds.length; i++) {\n          var id = toggleableLayerIds[i];\n\n          if (!document.getElementById(id)) {\n            // Create a link.\n            var link = document.createElement('a');\n            link.id = id;\n            link.href = '#';\n            link.textContent = id;\n            link.className = 'active'; // Show or hide layer when the toggle is clicked.\n\n            link.onclick = function (e) {\n              var clickedLayer = this.textContent;\n              e.preventDefault();\n              e.stopPropagation();\n              var visibility = map.getLayoutProperty(clickedLayer, 'visibility'); // Toggle layer visibility by changing the layout object's visibility property.\n\n              if (visibility === 'visible') {\n                map.setLayoutProperty(clickedLayer, 'visibility', 'none');\n                this.className = '';\n              } else {\n                this.className = 'active';\n                map.setLayoutProperty(clickedLayer, 'visibility', 'visible');\n              }\n            };\n\n            var layers = document.getElementById('dynamicLayer-menu');\n            layers.appendChild(link);\n          }\n        }\n      }\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      id: \"dynamicLayer-menu\",\n      className: \"jsx-2006012130\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"dynamicLayer-map\",\n      className: \"jsx-2006012130\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"2006012130\",\n      children: \"#dynamicLayer-menu.jsx-2006012130{background:#fff;position:absolute;z-index:1;top:10px;right:10px;border-radius:3px;width:120px;border:1px solid rgba(0,0,0,0.4);font-family:'Open Sans',sans-serif;}#dynamicLayer-menu.jsx-2006012130 a.jsx-2006012130{font-size:13px;color:#404040;display:block;margin:0;padding:0;padding:10px;-webkit-text-decoration:none;text-decoration:none;border-bottom:1px solid rgba(0,0,0,0.25);text-align:center;}#dynamicLayer-menu.jsx-2006012130 a.jsx-2006012130:last-child{border:none;}#dynamicLayer-menu.jsx-2006012130 a.jsx-2006012130:hover{background-color:#f8f8f8;color:#404040;}#dynamicLayer-menu.jsx-2006012130 a.active.jsx-2006012130{background-color:#3887be;color:#ffffff;}#dynamicLayer-menu.jsx-2006012130 a.active.jsx-2006012130:hover{background:#3074a4;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ludGVybWV6enRvL0RvY3VtZW50b3MvY29kZVByb3llY3RzL21hcGJveC1wcm9qZWN0L2NvbXBvbmVudHMvZHluYW1pY0xheWVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWdJa0IsQUFHMkIsQUFZRCxBQVlILEFBSWEsQUFLQSxBQUtOLFlBYm5CLEdBWmMsQ0FaSSxHQXNDbEIsTUFWYyxBQUtBLElBcEJBLEtBWkosS0E0QlYsQUFLQSxJQXBCUyxDQVpBLFFBYUMsQ0FaQyxTQWFFLEVBWkssV0FhRyxPQVpULFlBQ3dCLCtCQVlRLEVBWFIsbUNBQ3BDLElBV2tCLGtCQUNsQiIsImZpbGUiOiIvaG9tZS9pbnRlcm1lenp0by9Eb2N1bWVudG9zL2NvZGVQcm95ZWN0cy9tYXBib3gtcHJvamVjdC9jb21wb25lbnRzL2R5bmFtaWNMYXllci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBtYXBib3hnbCBmcm9tICdtYXBib3gtZ2wvZGlzdC9tYXBib3gtZ2wuanMnXG5cbmNvbnN0IGR5bmFtaWNMYXllciA9ICgpID0+IHtcbiAgY29uc3QgW3BhZ2VJc01vdW50ZWQsIHNldFBhZ2VJc01vdW50ZWRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0UGFnZUlzTW91bnRlZCh0cnVlKVxuXG4gICAgY29uc3QgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7XG4gICAgICBjb250YWluZXI6ICdkeW5hbWljTGF5ZXItbWFwJyxcbiAgICAgIHN0eWxlOiAnbWFwYm94Oi8vc3R5bGVzL21hcGJveC9zdHJlZXRzLXYxMScsXG4gICAgICB6b29tOiAxNSxcbiAgICAgIGNlbnRlcjogWy03MS45NzcyMjEzODQxMDU3NiwgLTEzLjUxNzM3OTMwMDc5ODA5OF1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBXYWl0IHVudGlsIHRoZSBtYXAgaGFzIGZpbmlzaGVkIGxvYWRpbmcuXG4gICAgICAvLyBBZGQgYSBjdXN0b20gdmVjdG9yIHRpbGVzZXQgc291cmNlLiBUaGlzIHRpbGVzZXQgY29udGFpbnNcbiAgICBtYXAub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBwb2ludCBmZWF0dXJlcyByZXByZXNlbnRpbmcgbXVzZXVtcy4gRWFjaCBmZWF0dXJlIGNvbnRhaW5zXG4gICAgICAvLyB0aHJlZSBwcm9wZXJ0aWVzLiBGb3IgZXhhbXBsZTpcbiAgICAgIC8vIHtcbiAgICAgIC8vICAgICBhbHRfbmFtZTogXCJNdXNlbyBBcnF1ZW9sb2dpY29cIixcbiAgICAgIC8vICAgICBuYW1lOiBcIk11c2VvIElua2FcIixcbiAgICAgIC8vICAgICB0b3VyaXNtOiBcIm11c2V1bVwiXG4gICAgICAvLyB9XG4gICAgICBtYXAuYWRkU291cmNlKCdtdXNldW1zJywge1xuICAgICAgICB0eXBlOiAndmVjdG9yJyxcbiAgICAgICAgdXJsOiAnbWFwYm94Oi8vbWFwYm94LjJvcG9wOWhyJ1xuICAgICAgfSk7XG4gICAgICBtYXAuYWRkTGF5ZXIoe1xuICAgICAgICAnaWQnOiAnbXVzZXVtcycsXG4gICAgICAgICd0eXBlJzogJ2NpcmNsZScsXG4gICAgICAgICdzb3VyY2UnOiAnbXVzZXVtcycsXG4gICAgICAgICdsYXlvdXQnOiB7XG4gICAgICAgIC8vIE1ha2UgdGhlIGxheWVyIHZpc2libGUgYnkgZGVmYXVsdC5cbiAgICAgICAgJ3Zpc2liaWxpdHknOiAndmlzaWJsZSdcbiAgICAgICAgfSxcbiAgICAgICAgJ3BhaW50Jzoge1xuICAgICAgICAnY2lyY2xlLXJhZGl1cyc6IDgsXG4gICAgICAgICdjaXJjbGUtY29sb3InOiAncmdiYSg1NSwxNDgsMTc5LDEpJ1xuICAgICAgICB9LFxuICAgICAgICAnc291cmNlLWxheWVyJzogJ211c2V1bS1jdXNjbydcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBZGQgdGhlIE1hcGJveCBUZXJyYWluIHYyIHZlY3RvciB0aWxlc2V0LiBSZWFkIG1vcmUgYWJvdXRcbiAgICAgIC8vIHRoZSBzdHJ1Y3R1cmUgb2YgZGF0YSBpbiB0aGlzIHRpbGVzZXQgaW4gdGhlIGRvY3VtZW50YXRpb246XG4gICAgICAvLyBodHRwczovL2RvY3MubWFwYm94LmNvbS92ZWN0b3ItdGlsZXMvcmVmZXJlbmNlL21hcGJveC10ZXJyYWluLXYyL1xuICAgICAgbWFwLmFkZFNvdXJjZSgnY29udG91cnMnLCB7XG4gICAgICAgIHR5cGU6ICd2ZWN0b3InLFxuICAgICAgICB1cmw6ICdtYXBib3g6Ly9tYXBib3gubWFwYm94LXRlcnJhaW4tdjInXG4gICAgICB9KTtcbiAgICAgIG1hcC5hZGRMYXllcih7XG4gICAgICAgICdpZCc6ICdjb250b3VycycsXG4gICAgICAgICd0eXBlJzogJ2xpbmUnLFxuICAgICAgICAnc291cmNlJzogJ2NvbnRvdXJzJyxcbiAgICAgICAgJ3NvdXJjZS1sYXllcic6ICdjb250b3VyJyxcbiAgICAgICAgJ2xheW91dCc6IHtcbiAgICAgICAgICAvLyBNYWtlIHRoZSBsYXllciB2aXNpYmxlIGJ5IGRlZmF1bHQuXG4gICAgICAgICAgJ3Zpc2liaWxpdHknOiAndmlzaWJsZScsXG4gICAgICAgICAgJ2xpbmUtam9pbic6ICdyb3VuZCcsXG4gICAgICAgICAgJ2xpbmUtY2FwJzogJ3JvdW5kJ1xuICAgICAgICB9LFxuICAgICAgICAncGFpbnQnOiB7XG4gICAgICAgICAgJ2xpbmUtY29sb3InOiAnIzg3N2I1OScsXG4gICAgICAgICAgJ2xpbmUtd2lkdGgnOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgICAvLyBBZnRlciB0aGUgbGFzdCBmcmFtZSByZW5kZXJlZCBiZWZvcmUgdGhlIG1hcCBlbnRlcnMgYW4gXCJpZGxlXCIgc3RhdGUuXG4gICAgbWFwLm9uKCdpZGxlJywgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gSWYgdGhlc2UgdHdvIGxheWVycyBoYXZlIGJlZW4gYWRkZWQgdG8gdGhlIHN0eWxlLFxuICAgICAgLy8gYWRkIHRoZSB0b2dnbGUgYnV0dG9ucy5cbiAgICAgIGlmIChtYXAuZ2V0TGF5ZXIoJ2NvbnRvdXJzJykgJiYgbWFwLmdldExheWVyKCdtdXNldW1zJykpIHtcbiAgICAgICAgLy8gRW51bWVyYXRlIGlkcyBvZiB0aGUgbGF5ZXJzLlxuICAgICAgICB2YXIgdG9nZ2xlYWJsZUxheWVySWRzID0gWydjb250b3VycycsICdtdXNldW1zJ107XG4gICAgICAgIC8vIFNldCB1cCB0aGUgY29ycmVzcG9uZGluZyB0b2dnbGUgYnV0dG9uIGZvciBlYWNoIGxheWVyLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvZ2dsZWFibGVMYXllcklkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBpZCA9IHRvZ2dsZWFibGVMYXllcklkc1tpXTtcbiAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbGluay5cbiAgICAgICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgbGluay5pZCA9IGlkO1xuICAgICAgICAgICAgbGluay5ocmVmID0gJyMnO1xuICAgICAgICAgICAgbGluay50ZXh0Q29udGVudCA9IGlkO1xuICAgICAgICAgICAgbGluay5jbGFzc05hbWUgPSAnYWN0aXZlJztcbiAgICAgICAgICAgIC8vIFNob3cgb3IgaGlkZSBsYXllciB3aGVuIHRoZSB0b2dnbGUgaXMgY2xpY2tlZC5cbiAgICAgICAgICAgIGxpbmsub25jbGljayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgIHZhciBjbGlja2VkTGF5ZXIgPSB0aGlzLnRleHRDb250ZW50O1xuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHZhciB2aXNpYmlsaXR5ID0gbWFwLmdldExheW91dFByb3BlcnR5KFxuICAgICAgICAgICAgICAgIGNsaWNrZWRMYXllcixcbiAgICAgICAgICAgICAgICAndmlzaWJpbGl0eSdcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gVG9nZ2xlIGxheWVyIHZpc2liaWxpdHkgYnkgY2hhbmdpbmcgdGhlIGxheW91dCBvYmplY3QncyB2aXNpYmlsaXR5IHByb3BlcnR5LlxuICAgICAgICAgICAgICBpZiAodmlzaWJpbGl0eSA9PT0gJ3Zpc2libGUnKSB7XG4gICAgICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KFxuICAgICAgICAgICAgICAgIGNsaWNrZWRMYXllcixcbiAgICAgICAgICAgICAgICAndmlzaWJpbGl0eScsXG4gICAgICAgICAgICAgICAgJ25vbmUnXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTmFtZSA9ICcnO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID0gJ2FjdGl2ZSc7XG4gICAgICAgICAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KFxuICAgICAgICAgICAgICAgIGNsaWNrZWRMYXllcixcbiAgICAgICAgICAgICAgICAndmlzaWJpbGl0eScsXG4gICAgICAgICAgICAgICAgJ3Zpc2libGUnXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBsYXllcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHluYW1pY0xheWVyLW1lbnUnKTtcbiAgICAgICAgICAgIGxheWVycy5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgXG4gIH0pXG5cbiAgcmV0dXJuKFxuICAgIDw+XG4gICAgICA8bmF2IGlkPVwiZHluYW1pY0xheWVyLW1lbnVcIj48L25hdj5cbiAgICAgIDxkaXYgaWQ9XCJkeW5hbWljTGF5ZXItbWFwXCI+PC9kaXY+XG4gICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICNkeW5hbWljTGF5ZXItbWVudSB7XG4gICAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgei1pbmRleDogMTtcbiAgICAgICAgICB0b3A6IDEwcHg7XG4gICAgICAgICAgcmlnaHQ6IDEwcHg7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgICAgICAgIHdpZHRoOiAxMjBweDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuNCk7XG4gICAgICAgICAgZm9udC1mYW1pbHk6ICdPcGVuIFNhbnMnLCBzYW5zLXNlcmlmO1xuICAgICAgICAgIH1cbiAgICAgICAgICAgXG4gICAgICAgICAgI2R5bmFtaWNMYXllci1tZW51IGEge1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgICBjb2xvcjogIzQwNDA0MDtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjI1KTtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgICBcbiAgICAgICAgICAjZHluYW1pY0xheWVyLW1lbnUgYTpsYXN0LWNoaWxkIHtcbiAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgfVxuICAgICAgICAgICBcbiAgICAgICAgICAjZHluYW1pY0xheWVyLW1lbnUgYTpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODtcbiAgICAgICAgICBjb2xvcjogIzQwNDA0MDtcbiAgICAgICAgICB9XG4gICAgICAgICAgIFxuICAgICAgICAgICNkeW5hbWljTGF5ZXItbWVudSBhLmFjdGl2ZSB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzM4ODdiZTtcbiAgICAgICAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICAgICAgICB9XG4gICAgICAgICAgIFxuICAgICAgICAgICNkeW5hbWljTGF5ZXItbWVudSBhLmFjdGl2ZTpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZDogIzMwNzRhNDtcbiAgICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgZHluYW1pY0xheWVyXG4iXX0= */\\n/*@ sourceURL=/home/intermezzto/Documentos/codeProyects/mapbox-project/components/dynamicLayer.js */\"\n    }, void 0, false, void 0, this)]\n  }, void 0, true);\n};\n\nexport default dynamicLayer;","map":{"version":3,"sources":["/home/intermezzto/Documentos/codeProyects/mapbox-project/components/dynamicLayer.js"],"names":["useEffect","useState","mapboxgl","dynamicLayer","pageIsMounted","setPageIsMounted","map","Map","container","style","zoom","center","on","addSource","type","url","addLayer","getLayer","toggleableLayerIds","i","length","id","document","getElementById","link","createElement","href","textContent","className","onclick","e","clickedLayer","preventDefault","stopPropagation","visibility","getLayoutProperty","setLayoutProperty","layers","appendChild"],"mappings":";;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,QAAP,MAAqB,6BAArB;;AAEA,MAAMC,YAAY,GAAG,MAAM;AACzB,QAAM;AAAA,OAACC,aAAD;AAAA,OAAgBC;AAAhB,MAAoCJ,QAAQ,CAAC,KAAD,CAAlD;AACAD,EAAAA,SAAS,CAAC,MAAM;AACdK,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AAEA,UAAMC,GAAG,GAAG,IAAIJ,QAAQ,CAACK,GAAb,CAAiB;AAC3BC,MAAAA,SAAS,EAAE,kBADgB;AAE3BC,MAAAA,KAAK,EAAE,oCAFoB;AAG3BC,MAAAA,IAAI,EAAE,EAHqB;AAI3BC,MAAAA,MAAM,EAAE,CAAC,CAAC,iBAAF,EAAqB,CAAC,kBAAtB;AAJmB,KAAjB,CAAZ,CAHc,CAUZ;AACA;;AACFL,IAAAA,GAAG,CAACM,EAAJ,CAAO,MAAP,EAAe,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACAN,MAAAA,GAAG,CAACO,SAAJ,CAAc,SAAd,EAAyB;AACvBC,QAAAA,IAAI,EAAE,QADiB;AAEvBC,QAAAA,GAAG,EAAE;AAFkB,OAAzB;AAIAT,MAAAA,GAAG,CAACU,QAAJ,CAAa;AACX,cAAM,SADK;AAEX,gBAAQ,QAFG;AAGX,kBAAU,SAHC;AAIX,kBAAU;AACV;AACA,wBAAc;AAFJ,SAJC;AAQX,iBAAS;AACT,2BAAiB,CADR;AAET,0BAAgB;AAFP,SARE;AAYX,wBAAgB;AAZL,OAAb,EAZyB,CA2BzB;AACA;AACA;;AACAV,MAAAA,GAAG,CAACO,SAAJ,CAAc,UAAd,EAA0B;AACxBC,QAAAA,IAAI,EAAE,QADkB;AAExBC,QAAAA,GAAG,EAAE;AAFmB,OAA1B;AAIAT,MAAAA,GAAG,CAACU,QAAJ,CAAa;AACX,cAAM,UADK;AAEX,gBAAQ,MAFG;AAGX,kBAAU,UAHC;AAIX,wBAAgB,SAJL;AAKX,kBAAU;AACR;AACA,wBAAc,SAFN;AAGR,uBAAa,OAHL;AAIR,sBAAY;AAJJ,SALC;AAWX,iBAAS;AACP,wBAAc,SADP;AAEP,wBAAc;AAFP;AAXE,OAAb;AAgBD,KAlDD,EAZc,CAgEZ;;AACFV,IAAAA,GAAG,CAACM,EAAJ,CAAO,MAAP,EAAe,YAAY;AACzB;AACA;AACA,UAAIN,GAAG,CAACW,QAAJ,CAAa,UAAb,KAA4BX,GAAG,CAACW,QAAJ,CAAa,SAAb,CAAhC,EAAyD;AACvD;AACA,YAAIC,kBAAkB,GAAG,CAAC,UAAD,EAAa,SAAb,CAAzB,CAFuD,CAGvD;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,kBAAkB,CAACE,MAAvC,EAA+CD,CAAC,EAAhD,EAAoD;AAClD,cAAIE,EAAE,GAAGH,kBAAkB,CAACC,CAAD,CAA3B;;AACA,cAAI,CAACG,QAAQ,CAACC,cAAT,CAAwBF,EAAxB,CAAL,EAAkC;AAChC;AACA,gBAAIG,IAAI,GAAGF,QAAQ,CAACG,aAAT,CAAuB,GAAvB,CAAX;AACAD,YAAAA,IAAI,CAACH,EAAL,GAAUA,EAAV;AACAG,YAAAA,IAAI,CAACE,IAAL,GAAY,GAAZ;AACAF,YAAAA,IAAI,CAACG,WAAL,GAAmBN,EAAnB;AACAG,YAAAA,IAAI,CAACI,SAAL,GAAiB,QAAjB,CANgC,CAOhC;;AACAJ,YAAAA,IAAI,CAACK,OAAL,GAAe,UAAUC,CAAV,EAAa;AAC1B,kBAAIC,YAAY,GAAG,KAAKJ,WAAxB;AACAG,cAAAA,CAAC,CAACE,cAAF;AACAF,cAAAA,CAAC,CAACG,eAAF;AAEA,kBAAIC,UAAU,GAAG5B,GAAG,CAAC6B,iBAAJ,CACfJ,YADe,EAEf,YAFe,CAAjB,CAL0B,CAU1B;;AACA,kBAAIG,UAAU,KAAK,SAAnB,EAA8B;AAC5B5B,gBAAAA,GAAG,CAAC8B,iBAAJ,CACAL,YADA,EAEA,YAFA,EAGA,MAHA;AAKA,qBAAKH,SAAL,GAAiB,EAAjB;AACD,eAPD,MAOO;AACL,qBAAKA,SAAL,GAAiB,QAAjB;AACAtB,gBAAAA,GAAG,CAAC8B,iBAAJ,CACAL,YADA,EAEA,YAFA,EAGA,SAHA;AAKD;AACF,aA1BD;;AA2BA,gBAAIM,MAAM,GAAGf,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,CAAb;AACAc,YAAAA,MAAM,CAACC,WAAP,CAAmBd,IAAnB;AACD;AACF;AACF;AACA,KAjDH;AAoDD,GArHQ,CAAT;AAuHA,sBACE;AAAA,4BACE;AAAK,MAAA,EAAE,EAAC,mBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,EAAE,EAAC,kBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA,kBADF;AAiDD,CA1KD;;AA4KA,eAAerB,YAAf","sourcesContent":["import { useEffect, useState } from 'react'\nimport mapboxgl from 'mapbox-gl/dist/mapbox-gl.js'\n\nconst dynamicLayer = () => {\n  const [pageIsMounted, setPageIsMounted] = useState(false)\n  useEffect(() => {\n    setPageIsMounted(true)\n\n    const map = new mapboxgl.Map({\n      container: 'dynamicLayer-map',\n      style: 'mapbox://styles/mapbox/streets-v11',\n      zoom: 15,\n      center: [-71.97722138410576, -13.517379300798098]\n      });\n\n      // Wait until the map has finished loading.\n      // Add a custom vector tileset source. This tileset contains\n    map.on('load', function () {\n      // point features representing museums. Each feature contains\n      // three properties. For example:\n      // {\n      //     alt_name: \"Museo Arqueologico\",\n      //     name: \"Museo Inka\",\n      //     tourism: \"museum\"\n      // }\n      map.addSource('museums', {\n        type: 'vector',\n        url: 'mapbox://mapbox.2opop9hr'\n      });\n      map.addLayer({\n        'id': 'museums',\n        'type': 'circle',\n        'source': 'museums',\n        'layout': {\n        // Make the layer visible by default.\n        'visibility': 'visible'\n        },\n        'paint': {\n        'circle-radius': 8,\n        'circle-color': 'rgba(55,148,179,1)'\n        },\n        'source-layer': 'museum-cusco'\n      });\n\n      // Add the Mapbox Terrain v2 vector tileset. Read more about\n      // the structure of data in this tileset in the documentation:\n      // https://docs.mapbox.com/vector-tiles/reference/mapbox-terrain-v2/\n      map.addSource('contours', {\n        type: 'vector',\n        url: 'mapbox://mapbox.mapbox-terrain-v2'\n      });\n      map.addLayer({\n        'id': 'contours',\n        'type': 'line',\n        'source': 'contours',\n        'source-layer': 'contour',\n        'layout': {\n          // Make the layer visible by default.\n          'visibility': 'visible',\n          'line-join': 'round',\n          'line-cap': 'round'\n        },\n        'paint': {\n          'line-color': '#877b59',\n          'line-width': 1\n        }\n      });\n    });\n\n      // After the last frame rendered before the map enters an \"idle\" state.\n    map.on('idle', function () {\n      // If these two layers have been added to the style,\n      // add the toggle buttons.\n      if (map.getLayer('contours') && map.getLayer('museums')) {\n        // Enumerate ids of the layers.\n        var toggleableLayerIds = ['contours', 'museums'];\n        // Set up the corresponding toggle button for each layer.\n        for (var i = 0; i < toggleableLayerIds.length; i++) {\n          var id = toggleableLayerIds[i];\n          if (!document.getElementById(id)) {\n            // Create a link.\n            var link = document.createElement('a');\n            link.id = id;\n            link.href = '#';\n            link.textContent = id;\n            link.className = 'active';\n            // Show or hide layer when the toggle is clicked.\n            link.onclick = function (e) {\n              var clickedLayer = this.textContent;\n              e.preventDefault();\n              e.stopPropagation();\n                \n              var visibility = map.getLayoutProperty(\n                clickedLayer,\n                'visibility'\n              );\n                \n              // Toggle layer visibility by changing the layout object's visibility property.\n              if (visibility === 'visible') {\n                map.setLayoutProperty(\n                clickedLayer,\n                'visibility',\n                'none'\n                );\n                this.className = '';\n              } else {\n                this.className = 'active';\n                map.setLayoutProperty(\n                clickedLayer,\n                'visibility',\n                'visible'\n                );\n              }\n            };\n            var layers = document.getElementById('dynamicLayer-menu');\n            layers.appendChild(link);\n          }\n        }\n      }\n      });\n\n    \n  })\n\n  return(\n    <>\n      <nav id=\"dynamicLayer-menu\"></nav>\n      <div id=\"dynamicLayer-map\"></div>\n      <style jsx>{`\n        #dynamicLayer-menu {\n          background: #fff;\n          position: absolute;\n          z-index: 1;\n          top: 10px;\n          right: 10px;\n          border-radius: 3px;\n          width: 120px;\n          border: 1px solid rgba(0, 0, 0, 0.4);\n          font-family: 'Open Sans', sans-serif;\n          }\n           \n          #dynamicLayer-menu a {\n          font-size: 13px;\n          color: #404040;\n          display: block;\n          margin: 0;\n          padding: 0;\n          padding: 10px;\n          text-decoration: none;\n          border-bottom: 1px solid rgba(0, 0, 0, 0.25);\n          text-align: center;\n          }\n           \n          #dynamicLayer-menu a:last-child {\n          border: none;\n          }\n           \n          #dynamicLayer-menu a:hover {\n          background-color: #f8f8f8;\n          color: #404040;\n          }\n           \n          #dynamicLayer-menu a.active {\n          background-color: #3887be;\n          color: #ffffff;\n          }\n           \n          #dynamicLayer-menu a.active:hover {\n          background: #3074a4;\n          }\n      `}</style>\n    </>\n  )\n}\n\nexport default dynamicLayer\n"]},"metadata":{},"sourceType":"module"}